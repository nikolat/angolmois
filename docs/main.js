/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={7505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const r=n(8089);class o extends r.Hash{constructor(e,t,n,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,r.createView)(this.buffer)}update(e){if(this.destroyed)throw new Error("instance is destroyed");const{view:t,buffer:n,blockLen:o,finished:i}=this;if(i)throw new Error("digest() was already called");const s=(e=(0,r.toBytes)(e)).length;for(let i=0;i<s;){const a=Math.min(o-this.pos,s-i);if(a!==o)n.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,r.createView)(e);for(;o<=s-i;i+=o)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length<this.outputLen)throw new Error("_Sha2: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0;const{buffer:t,view:n,blockLen:o,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let e=s;e<o;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,a,r)}(n,o-8,BigInt(8*this.length),i),this.process(n,0);const a=(0,r.createView)(e);this.get().forEach(((e,t)=>a.setUint32(4*t,e,i)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%t&&e.buffer.set(n),e}}t.SHA2=o},4421:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},9569:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const r=n(8089);class o extends r.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.assertHash)(e);const n=(0,r.toBytes)(t);if(this.iHash=e.create(),!(this.iHash instanceof r.Hash))throw new TypeError("Expected instance of class which extends utils.Hash");const o=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const i=new Uint8Array(o);i.set(n.length>this.iHash.blockLen?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){if(this.destroyed)throw new Error("instance is destroyed");return this.iHash.update(e),this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length!==this.outputLen)throw new Error("HMAC: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=r,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.hmac=(e,t,n)=>new o(e,t).update(n).digest(),t.hmac.create=(e,t)=>new o(e,t)},3061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha256=void 0;const r=n(7505),o=n(8089),i=(e,t,n)=>e&t^e&n^t&n,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends r.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[e,t,n,r,o,i,s,a]}set(e,t,n,r,o,i,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],n=c[e-2],r=(0,o.rotr)(t,7)^(0,o.rotr)(t,18)^t>>>3,i=(0,o.rotr)(n,17)^(0,o.rotr)(n,19)^n>>>10;c[e]=i+c[e-7]+r+c[e-16]|0}let{A:n,B:r,C:a,D:u,E:l,F:h,G:f,H:d}=this;for(let e=0;e<64;e++){const t=d+((0,o.rotr)(l,6)^(0,o.rotr)(l,11)^(0,o.rotr)(l,25))+((p=l)&h^~p&f)+s[e]+c[e]|0,y=((0,o.rotr)(n,2)^(0,o.rotr)(n,13)^(0,o.rotr)(n,22))+i(n,r,a)|0;d=f,f=h,h=l,l=u+t|0,u=a,a=r,r=n,n=t+y|0}var p;n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,u=u+this.D|0,l=l+this.E|0,h=h+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(n,r,a,u,l,h,f,d)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}t.sha256=(0,o.wrapConstructor)((()=>new u))},8089:(e,t,n)=>{"use strict";e=n.nmd(e),Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.assertHash=t.assertBytes=t.assertBool=t.assertNumber=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const r=n(4421);if(t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function i(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function s(e){if("string"==typeof e&&(e=i(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}function a(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}t.bytesToHex=function(e){let t="";for(let n=0;n<e.length;n++)t+=o[e[n]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i))throw new Error("Invalid byte sequence");t[n]=i}return t},t.nextTick=(()=>{const t="function"==typeof e.require&&e.require.bind(e);try{if(t){const{setImmediate:e}=t("timers");return()=>new Promise((t=>e(t)))}}catch(e){}return()=>new Promise((e=>setTimeout(e,0)))})(),t.asyncLoop=async function(e,n,r){let o=Date.now();for(let i=0;i<e;i++){r(i);const e=Date.now()-o;e>=0&&e<n||(await(0,t.nextTick)(),o+=e)}},t.utf8ToBytes=i,t.toBytes=s,t.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n},t.assertNumber=a,t.assertBool=function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},t.assertBytes=function(e,...t){if(!(e instanceof Uint8Array)||t.length&&!t.includes(e.length))throw new TypeError(`Expected ${t} bytes, not ${typeof e} with length=${e.length}`)},t.assertHash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");a(e.outputLen),a(e.blockLen)},t.Hash=class{clone(){return this._cloneInto()}};t.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||(n=t,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new TypeError("Options should be object or undefined");var n;return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(s(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(s(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(r.crypto.web)return r.crypto.web.getRandomValues(new Uint8Array(e));if(r.crypto.node)return new Uint8Array(r.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}},9656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.schnorr=t.verify=t.signSync=t.sign=t.getSharedSecret=t.recoverPublicKey=t.getPublicKey=t.Signature=t.Point=t.CURVE=void 0;const r=n(9159),o=BigInt(0),i=BigInt(1),s=BigInt(2),a=BigInt(3),c=BigInt(8),u=Object.freeze({a:o,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:i,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});t.CURVE=u;const l=(e,t)=>(e+t/s)/t,h={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=u,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-i*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),c=l(s*e,t),h=l(-r*e,t);let f=D(e-c*n-h*o,t),d=D(-c*r-h*s,t);const p=f>a,y=d>a;if(p&&(f=t-f),y&&(d=t-d),f>a||d>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:p,k1:f,k2neg:y,k2:d}}},f=32,d=32,p=f+1,y=2*f+1;function b(e){const{a:t,b:n}=u,r=D(e*e),o=D(r*e);return D(o+t*e+n)}const g=u.a===o;class w extends Error{constructor(e){super(e)}}function m(e){if(!(e instanceof v))throw new TypeError("JacobianPoint expected")}class v{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof E))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(E.ZERO)?v.ZERO:new v(e.x,e.y,i)}static toAffineBatch(e){const t=function(e,t=u.P){const n=new Array(e.length),r=R(e.reduce(((e,r,i)=>r===o?e:(n[i]=e,D(e*r,t))),i),t);return e.reduceRight(((e,r,i)=>r===o?e:(n[i]=D(e*n[i],t),D(e*r,t))),r),n}(e.map((e=>e.z)));return e.map(((e,n)=>e.toAffine(t[n])))}static normalizeZ(e){return v.toAffineBatch(e).map(v.fromAffine)}equals(e){m(e);const{x:t,y:n,z:r}=this,{x:o,y:i,z:s}=e,a=D(r*r),c=D(s*s),u=D(t*c),l=D(o*a),h=D(D(n*s)*c),f=D(D(i*r)*a);return u===l&&h===f}negate(){return new v(this.x,D(-this.y),this.z)}double(){const{x:e,y:t,z:n}=this,r=D(e*e),o=D(t*t),i=D(o*o),u=e+o,l=D(s*(D(u*u)-r-i)),h=D(a*r),f=D(h*h),d=D(f-s*l),p=D(h*(l-d)-c*i),y=D(s*t*n);return new v(d,p,y)}add(e){m(e);const{x:t,y:n,z:r}=this,{x:i,y:a,z:c}=e;if(i===o||a===o)return this;if(t===o||n===o)return e;const u=D(r*r),l=D(c*c),h=D(t*l),f=D(i*u),d=D(D(n*c)*l),p=D(D(a*r)*u),y=D(f-h),b=D(p-d);if(y===o)return b===o?this.double():v.ZERO;const g=D(y*y),w=D(y*g),_=D(h*g),x=D(b*b-w-s*_),E=D(b*(_-x)-d*w),k=D(r*c*y);return new v(x,E,k)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=v.ZERO;if("bigint"==typeof e&&e===o)return t;let n=N(e);if(n===i)return this;if(!g){let e=t,r=this;for(;n>o;)n&i&&(e=e.add(r)),r=r.double(),n>>=i;return e}let{k1neg:r,k1:s,k2neg:a,k2:c}=h.splitScalar(n),u=t,l=t,f=this;for(;s>o||c>o;)s&i&&(u=u.add(f)),c&i&&(l=l.add(f)),f=f.double(),s>>=i,c>>=i;return r&&(u=u.negate()),a&&(l=l.negate()),l=new v(D(l.x*h.beta),l.y,l.z),u.add(l)}precomputeWindow(e){const t=g?128/e+1:256/e+1,n=[];let r=this,o=r;for(let i=0;i<t;i++){o=r,n.push(o);for(let t=1;t<2**(e-1);t++)o=o.add(r),n.push(o);r=o.double()}return n}wNAF(e,t){!t&&this.equals(v.BASE)&&(t=E.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=t&&x.get(t);r||(r=this.precomputeWindow(n),t&&1!==n&&(r=v.normalizeZ(r),x.set(t,r)));let o=v.ZERO,s=v.BASE;const a=1+(g?128/n:256/n),c=2**(n-1),u=BigInt(2**n-1),l=2**n,h=BigInt(n);for(let t=0;t<a;t++){const n=t*c;let a=Number(e&u);e>>=h,a>c&&(a-=l,e+=i);const f=n,d=n+Math.abs(a)-1,p=t%2!=0,y=a<0;0===a?s=s.add(_(p,r[f])):o=o.add(_(y,r[d]))}return{p:o,f:s}}multiply(e,t){let n,r,o=N(e);if(g){const{k1neg:e,k1:i,k2neg:s,k2:a}=h.splitScalar(o);let{p:c,f:u}=this.wNAF(i,t),{p:l,f}=this.wNAF(a,t);c=_(e,c),l=_(s,l),l=new v(D(l.x*h.beta),l.y,l.z),n=c.add(l),r=u.add(f)}else{const{p:e,f:i}=this.wNAF(o,t);n=e,r=i}return v.normalizeZ([n,r])[0]}toAffine(e){const{x:t,y:n,z:r}=this,o=this.equals(v.ZERO);null==e&&(e=o?c:R(r));const s=e,a=D(s*s),u=D(a*s),l=D(t*a),h=D(n*u),f=D(r*s);if(o)return E.ZERO;if(f!==i)throw new Error("invZ was invalid");return new E(l,h)}}function _(e,t){const n=t.negate();return e?n:t}v.BASE=new v(u.Gx,u.Gy,i),v.ZERO=new v(o,i,o);const x=new WeakMap;class E{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,x.delete(this)}hasEvenY(){return this.y%s===o}static fromCompressedHex(e){const t=32===e.length,n=U(t?e:e.subarray(1));if(!V(n))throw new Error("Point is not on curve");let r=function(e){const{P:t}=u,n=BigInt(6),r=BigInt(11),o=BigInt(22),i=BigInt(23),c=BigInt(44),l=BigInt(88),h=e*e*e%t,f=h*h*e%t,d=q(f,a)*f%t,p=q(d,a)*f%t,y=q(p,s)*h%t,b=q(y,r)*y%t,g=q(b,o)*b%t,w=q(g,c)*g%t,m=q(w,l)*w%t,v=q(m,c)*g%t,_=q(v,a)*f%t,x=q(_,i)*b%t,E=q(x,n)*h%t,k=q(E,s);if(k*k%t!==e)throw new Error("Cannot find square root");return k}(b(n));const o=(r&i)===i;t?o&&(r=D(-r)):1==(1&e[0])!==o&&(r=D(-r));const c=new E(n,r);return c.assertValidity(),c}static fromUncompressedHex(e){const t=U(e.subarray(1,f+1)),n=U(e.subarray(f+1,2*f+1)),r=new E(t,n);return r.assertValidity(),r}static fromHex(e){const t=M(e),n=t.length,r=t[0];if(n===f)return this.fromCompressedHex(t);if(n===p&&(2===r||3===r))return this.fromCompressedHex(t);if(n===y&&4===r)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${p} compressed bytes or ${y} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return E.BASE.multiply(Z(e))}static fromSignature(e,t,n){const{r,s:o}=X(t);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const i=z(M(e)),{n:s}=u,a=2===n||3===n?r+s:r,c=R(a,s),l=D(-i*c,s),h=D(o*c,s),f=1&n?"03":"02",d=E.fromHex(f+C(a)),p=E.BASE.multiplyAndAddUnsafe(d,l,h);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(e=!1){return P(this.toHex(e))}toHex(e=!1){const t=C(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${C(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:n}=this;if(!V(t)||!V(n))throw new Error(e);const r=D(n*n);if(D(r-b(t))!==o)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new E(this.x,D(-this.y))}double(){return v.fromAffine(this).double().toAffine()}add(e){return v.fromAffine(this).add(v.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return v.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){const r=v.fromAffine(this),s=t===o||t===i||this!==E.BASE?r.multiplyUnsafe(t):r.multiply(t),a=v.fromAffine(e).multiplyUnsafe(n),c=s.add(a);return c.equals(v.ZERO)?void 0:c.toAffine()}}function k(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function S(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${H(e)}`);const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:U(n),left:e.subarray(t+2)}}t.Point=E,E.BASE=new E(u.Gx,u.Gy),E.ZERO=new E(o,o);class A{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=t?H(e):e;if(128!==r.length)throw new Error(`${n}: Expected 64-byte hex`);return new A(T(r.slice(0,64)),T(r.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${H(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=S(e.subarray(2)),{data:r,left:o}=S(n);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${H(o)}`);return{r:t,s:r}}(t?e:P(e));return new A(n,r)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!G(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!G(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=u.n>>i;return this.s>e}normalizeS(){return this.hasHighS()?new A(this.r,D(-this.s,u.n)):this}toDERRawBytes(){return P(this.toDERHex())}toDERHex(){const e=k(j(this.s)),t=k(j(this.r)),n=e.length/2,r=t.length/2,o=j(n),i=j(r);return`30${j(r+n+4)}02${i}${t}02${o}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return P(this.toCompactHex())}toCompactHex(){return C(this.r)+C(this.s)}}function O(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n}t.Signature=A;const B=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function H(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=B[e[n]];return t}const I=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function C(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!(o<=e&&e<I))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function L(e){const t=P(C(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function j(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function T(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function P(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function U(e){return T(H(e))}function M(e){return e instanceof Uint8Array?Uint8Array.from(e):P(e)}function N(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&G(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function D(e,t=u.P){const n=e%t;return n>=o?n:t+n}function q(e,t){const{P:n}=u;let r=e;for(;t-- >o;)r*=r,r%=n;return r}function R(e,t=u.P){if(e===o||t<=o)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=D(e,t),r=t,s=o,a=i,c=i,l=o;for(;n!==o;){const e=r/n,t=r%n,o=s-c*e,i=a-l*e;r=n,n=t,s=c,a=l,c=o,l=i}if(r!==i)throw new Error("invert: does not exist");return D(s,t)}function z(e,t=!1){const n=function(e){const t=8*e.length-8*d,n=U(e);return t>0?n>>BigInt(t):n}(e);if(t)return n;const{n:r}=u;return n>=r?n-r:n}let F,$;class K{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return t.utils.hmacSha256(this.k,...e)}hmacSync(...e){return $(this.k,...e)}checkSync(){if("function"!=typeof $)throw new w("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return O(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return O(...t)}}function G(e){return o<e&&e<u.n}function V(e){return o<e&&e<u.P}function W(e,t,n,r=!0){const{n:s}=u,a=z(e,!0);if(!G(a))return;const c=R(a,s),l=E.BASE.multiply(a),h=D(l.x,s);if(h===o)return;const f=D(c*D(t+n*h,s),s);if(f===o)return;let d=new A(h,f),p=(l.x===d.r?0:2)|Number(l.y&i);return r&&d.hasHighS()&&(d=d.normalizeS(),p^=1),{sig:d,recovery:p}}function Z(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(e.length!==2*d)throw new Error("Expected 32 bytes of private key");t=T(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(e.length!==d)throw new Error("Expected 32 bytes of private key");t=U(e)}if(!G(t))throw new Error("Expected private key: 0 < key < n");return t}function J(e){return e instanceof E?(e.assertValidity(),e):E.fromHex(e)}function X(e){if(e instanceof A)return e.assertValidity(),e;try{return A.fromDER(e)}catch(t){return A.fromCompact(e)}}function Y(e){const t=e instanceof Uint8Array,n="string"==typeof e,r=(t||n)&&e.length;return t?r===p||r===y:n?r===2*p||r===2*y:e instanceof E}function Q(e){return U(e.length>f?e.slice(0,f):e)}function ee(e){const t=Q(e),n=D(t,u.n);return te(n<o?t:n)}function te(e){return L(e)}function ne(e,n,r){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const o=M(e),i=Z(n),s=[te(i),ee(o)];if(null!=r){!0===r&&(r=t.utils.randomBytes(f));const e=M(r);if(e.length!==f)throw new Error(`sign: Expected ${f} bytes of extra data`);s.push(e)}return{seed:O(...s),m:Q(o),d:i}}function re(e,t){const{sig:n,recovery:r}=e,{der:o,recovered:i}=Object.assign({canonical:!0,der:!0},t),s=o?n.toDERRawBytes():n.toCompactRawBytes();return i?[s,r]:s}t.getPublicKey=function(e,t=!1){return E.fromPrivateKey(e).toRawBytes(t)},t.recoverPublicKey=function(e,t,n,r=!1){return E.fromSignature(e,t,n).toRawBytes(r)},t.getSharedSecret=function(e,t,n=!1){if(Y(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!Y(t))throw new TypeError("getSharedSecret: second arg must be public key");const r=J(t);return r.assertValidity(),r.multiply(Z(e)).toRawBytes(n)},t.sign=async function(e,t,n={}){const{seed:r,m:o,d:i}=ne(e,t,n.extraEntropy),s=new K(32,d);let a;for(await s.reseed(r);!(a=W(await s.generate(),o,i,n.canonical));)await s.reseed();return re(a,n)},t.signSync=function(e,t,n={}){const{seed:r,m:o,d:i}=ne(e,t,n.extraEntropy),s=new K(32,d);let a;for(s.reseedSync(r);!(a=W(s.generateSync(),o,i,n.canonical));)s.reseedSync();return re(a,n)};const oe={strict:!0};function ie(e){return D(U(e),u.n)}t.verify=function(e,t,n,r=oe){let o;try{o=X(e),t=M(t)}catch(e){return!1}const{r:i,s}=o;if(r.strict&&o.hasHighS())return!1;const a=z(t);let c;try{c=J(n)}catch(e){return!1}const{n:l}=u,h=R(s,l),f=D(a*h,l),d=D(i*h,l),p=E.BASE.multiplyAndAddUnsafe(c,f,d);return!!p&&D(p.x,l)===i};class se{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=M(e);if(64!==t.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);const n=U(t.subarray(0,32)),r=U(t.subarray(32,64));return new se(n,r)}assertValidity(){const{r:e,s:t}=this;if(!V(e)||!G(t))throw new Error("Invalid signature")}toHex(){return C(this.r)+C(this.s)}toRawBytes(){return P(this.toHex())}}class ae{constructor(e,n,r=t.utils.randomBytes()){if(null==e)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=M(e);const{x:o,scalar:i}=this.getScalar(Z(n));if(this.px=o,this.d=i,this.rand=M(r),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){const t=E.fromPrivateKey(e),n=t.hasEvenY()?e:u.n-e;return{point:t,scalar:n,x:t.toRawX()}}initNonce(e,t){return L(e^U(t))}finalizeNonce(e){const t=D(U(e),u.n);if(t===o)throw new Error("sign: Creation of signature failed. k is zero");const{point:n,x:r,scalar:i}=this.getScalar(t);return{R:n,rx:r,k:i}}finalizeSig(e,t,n,r){return new se(e.x,D(t+n*r,u.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:e,d:n,px:r,rand:o}=this,i=t.utils.taggedHash,s=this.initNonce(n,await i(de.aux,o)),{R:a,rx:c,k:u}=this.finalizeNonce(await i(de.nonce,s,r,e)),l=ie(await i(de.challenge,c,r,e)),h=this.finalizeSig(a,u,l,n);return await le(h,e,r)||this.error(),h}calcSync(){const{m:e,d:n,px:r,rand:o}=this,i=t.utils.taggedHashSync,s=this.initNonce(n,i(de.aux,o)),{R:a,rx:c,k:u}=this.finalizeNonce(i(de.nonce,s,r,e)),l=ie(i(de.challenge,c,r,e)),h=this.finalizeSig(a,u,l,n);return he(h,e,r)||this.error(),h}}function ce(e,t,n){const r=e instanceof se,o=r?e:se.fromHex(e);return r&&o.assertValidity(),{...o,m:M(t),P:J(n)}}function ue(e,t,n,r){const o=E.BASE.multiplyAndAddUnsafe(t,Z(n),D(-r,u.n));return!(!o||!o.hasEvenY()||o.x!==e)}async function le(e,n,r){try{const{r:o,s:i,m:s,P:a}=ce(e,n,r),c=ie(await t.utils.taggedHash(de.challenge,L(o),a.toRawX(),s));return ue(o,a,i,c)}catch(e){return!1}}function he(e,n,r){try{const{r:o,s:i,m:s,P:a}=ce(e,n,r),c=ie(t.utils.taggedHashSync(de.challenge,L(o),a.toRawX(),s));return ue(o,a,i,c)}catch(e){if(e instanceof w)throw e;return!1}}t.schnorr={Signature:se,getPublicKey:function(e){return E.fromPrivateKey(e).toRawX()},sign:async function(e,t,n){return new ae(e,t,n).calc()},verify:le,signSync:function(e,t,n){return new ae(e,t,n).calcSync()},verifySync:he},E.BASE._setWindowSize(8);const fe={node:r,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},de={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},pe={};t.utils={bytesToHex:H,hexToBytes:P,concatBytes:O,mod:D,invert:R,isValidPrivateKey(e){try{return Z(e),!0}catch(e){return!1}},_bigintTo32Bytes:L,_normalizePrivateKey:Z,hashToPrivateKey:e=>{e=M(e);const t=d+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return L(D(U(e),u.n-i)+i)},randomBytes:(e=32)=>{if(fe.web)return fe.web.getRandomValues(new Uint8Array(e));if(fe.node){const{randomBytes:t}=fe.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>t.utils.hashToPrivateKey(t.utils.randomBytes(d+8)),precompute(e=8,t=E.BASE){const n=t===E.BASE?t:new E(t.x,t.y);return n._setWindowSize(e),n.multiply(a),n},sha256:async(...e)=>{if(fe.web){const t=await fe.web.subtle.digest("SHA-256",O(...e));return new Uint8Array(t)}if(fe.node){const{createHash:t}=fe.node,n=t("sha256");return e.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(fe.web){const n=await fe.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=O(...t),o=await fe.web.subtle.sign("HMAC",n,r);return new Uint8Array(o)}if(fe.node){const{createHmac:n}=fe.node,r=n("sha256",e);return t.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...n)=>{let r=pe[e];if(void 0===r){const n=await t.utils.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=O(n,n),pe[e]=r}return t.utils.sha256(r,...n)},taggedHashSync:(e,...t)=>{if("function"!=typeof F)throw new w("sha256Sync is undefined, you need to set it");let n=pe[e];if(void 0===n){const t=F(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=O(t,t),pe[e]=n}return F(n,...t)},_JacobianPoint:v},Object.defineProperties(t.utils,{sha256Sync:{configurable:!1,get:()=>F,set(e){F||(F=e)}},hmacSha256Sync:{configurable:!1,get:()=>$,set(e){$||($=e)}}})},9187:(e,t)=>{"use strict";function n(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function r(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0)}}function o(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(n(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function i(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function s(e,t="="){if(n(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function a(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function c(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let o=0;const i=[],s=Array.from(e);for(s.forEach((e=>{if(n(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,n=!0;for(let i=o;i<s.length;i++){const a=s[i],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");if(e=c%r,s[i]=Math.floor(c/r),!Number.isSafeInteger(s[i])||s[i]*r+e!==c)throw new Error("convertRadix: carry overflow");n&&(s[i]?n=!1:o=i)}if(i.push(e),n)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const u=(e,t)=>t?u(t,e%t):e,l=(e,t)=>e+(t-u(e,t));function h(e,t,r,o){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(l(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${l(t,r)}`);let i=0,s=0;const a=2**r-1,c=[];for(const o of e){if(n(o),o>=2**t)throw new Error(`convertRadix2: invalid data word=${o} from=${t}`);if(i=i<<t|o,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)c.push((i>>s-r&a)>>>0);i&=2**s-1}if(i=i<<r-s&a,!o&&s>=t)throw new Error("Excess padding");if(!o&&i)throw new Error(`Non-zero padding: ${i}`);return o&&s>0&&c.push(i>>>0),c}function f(e){return n(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return c(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(c(t,e,256))}}}function d(e,t=!1){if(n(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(l(8,e)>32||l(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(h(n,e,8,t))}}}function p(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function y(e,t){if(n(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),o=new Uint8Array(n.length+e);return o.set(n),o.set(r,n.length),o},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),o=t(r).slice(0,e),i=n.slice(-e);for(let t=0;t<e;t++)if(o[t]!==i[t])throw new Error("Invalid checksum");return r}}}t.utils={alphabet:o,chain:r,checksum:y,radix:f,radix2:d,join:i,padding:s},t.base16=r(d(4),o("0123456789ABCDEF"),i("")),t.base32=r(d(5),o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),i("")),t.base32hex=r(d(5),o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),i("")),t.base32crockford=r(d(5),o("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),a((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),t.base64=r(d(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),i("")),t.base64url=r(d(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),i(""));const b=e=>r(f(58),o(e),i(""));t.base58=b("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=b("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=b("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const g=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let n="";for(let r=0;r<e.length;r+=8){const o=e.subarray(r,r+8);n+=t.base58.encode(o).padStart(g[o.length],"1")}return n},decode(e){let n=[];for(let r=0;r<e.length;r+=11){const o=e.slice(r,r+11),i=g.indexOf(o.length),s=t.base58.decode(o);for(let e=0;e<s.length-i;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");n=n.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(n)}},t.base58check=e=>r(y(4,(t=>e(e(t)))),t.base58);const w=r(o("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),m=[996825010,642813549,513874426,1027748829,705979059];function v(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<m.length;e++)1==(t>>e&1)&&(n^=m[e]);return n}function _(e,t,n=1){const r=e.length;let o=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);o=v(o)^n>>5}o=v(o);for(let t=0;t<r;t++)o=v(o)^31&e.charCodeAt(t);for(let e of t)o=v(o)^e;for(let e=0;e<6;e++)o=v(o);return o^=n,w.encode(h([o%2**30],30,5,!1))}function x(e){const t="bech32"===e?1:734539939,n=d(5),r=n.decode,o=n.encode,i=p(r);function s(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=(e=r).lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=e.slice(0,o),s=e.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=w.decode(s).slice(0,-6),c=_(i,a,t);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(e,n,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const o=e.length+7+n.length;if(!1!==r&&o>r)throw new TypeError(`Length ${o} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${w.encode(n)}${_(e,n,t)}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:p(s),fromWords:r,fromWordsUnsafe:i,toWords:o}}t.bech32=x("bech32"),t.bech32m=x("bech32m"),t.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},t.hex=r(d(4),o("0123456789abcdef"),i(""),a((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const E={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},k=`Invalid encoding type. Available types: ${Object.keys(E).join(", ")}`;t.bytesToString=(e,t)=>{if("string"!=typeof e||!E.hasOwnProperty(e))throw new TypeError(k);if(!(t instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return E[e].encode(t)},t.str=t.bytesToString,t.stringToBytes=(e,t)=>{if(!E.hasOwnProperty(e))throw new TypeError(k);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return E[e].decode(t)},t.bytes=t.stringToBytes},1869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HDKey=t.HARDENED_OFFSET=void 0;const r=n(2832),o=n(3866),i=n(7695),s=n(2361),a=n(397),c=n(6786),u=n(9656),l=n(9187);u.utils.hmacSha256Sync=(e,...t)=>(0,r.hmac)(i.sha256,e,u.utils.concatBytes(...t));const h=(0,l.base58check)(i.sha256);function f(e){return BigInt(`0x${(0,c.bytesToHex)(e)}`)}const d=(0,c.utf8ToBytes)("Bitcoin seed"),p={private:76066276,public:76067358};t.HARDENED_OFFSET=2147483648;const y=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,c.createView)(t).setUint32(0,e,!1),t};class b{constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!=typeof e)throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||p,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!u.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey="bigint"==typeof e.privateKey?e.privateKey:f(e.privateKey),this.privKeyBytes=(t=this.privKey,(0,c.hexToBytes)(t.toString(16).padStart(64,"0"))),this.pubKey=u.getPublicKey(e.privateKey,!0)}else{if(!e.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=u.Point.fromHex(e.publicKey).toRawBytes(!0)}var t,n;this.pubHash=(n=this.pubKey,(0,o.ripemd160)((0,i.sha256)(n)))}get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return e=this.pubHash,(0,c.createView)(e).getUint32(0,!1);var e}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return h.encode(this.serialize(this.versions.private,(0,c.concatBytes)(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return h.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=p){if((0,a.bytes)(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=(0,r.hmac)(s.sha512,d,e);return new b({versions:t,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(e,t=p){const n=h.decode(e),r=(0,c.createView)(n),o=r.getUint32(0,!1),i={versions:t,depth:n[4],parentFingerprint:r.getUint32(5,!1),index:r.getUint32(9,!1),chainCode:n.slice(13,45)},s=n.slice(45),a=0===s[0];if(o!==t[a?"private":"public"])throw new Error("Version mismatch");return new b(a?{...i,privateKey:s.slice(1)}:{...i,publicKey:s})}static fromJSON(e){return b.fromExtendedKey(e.xpriv)}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const n=e.replace(/^[mM]'?\//,"").split("/");let r=this;for(const e of n){const n=/^(\d+)('?)$/.exec(e);if(!n||3!==n.length)throw new Error(`Invalid child index: ${e}`);let o=+n[1];if(!Number.isSafeInteger(o)||o>=t.HARDENED_OFFSET)throw new Error("Invalid index");"'"===n[2]&&(o+=t.HARDENED_OFFSET),r=r.deriveChild(o)}return r}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let n=y(e);if(e>=t.HARDENED_OFFSET){const e=this.privateKey;if(!e)throw new Error("Could not derive hardened child key");n=(0,c.concatBytes)(new Uint8Array([0]),e,n)}else n=(0,c.concatBytes)(this.pubKey,n);const o=(0,r.hmac)(s.sha512,this.chainCode,n),i=f(o.slice(0,32)),a=o.slice(32);if(!u.utils.isValidPrivateKey(i))throw new Error("Tweak bigger than curve order");const l={versions:this.versions,chainCode:a,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const e=u.utils.mod(this.privKey+i,u.CURVE.n);if(!u.utils.isValidPrivateKey(e))throw new Error("The tweak was out of range or the resulted private key is invalid");l.privateKey=e}else{const e=u.Point.fromHex(this.pubKey).add(u.Point.fromPrivateKey(i));if(e.equals(u.Point.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");l.publicKey=e.toRawBytes(!0)}return new b(l)}catch(t){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return(0,a.bytes)(e,32),u.signSync(e,this.privKey,{canonical:!0,der:!1})}verify(e,t){if((0,a.bytes)(e,32),(0,a.bytes)(t,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=u.Signature.fromCompact(t)}catch(e){return!1}return u.verify(n,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return(0,a.bytes)(t,33),(0,c.concatBytes)(y(e),new Uint8Array([this.depth]),y(this.parentFingerprint),y(this.index),this.chainCode,t)}}t.HDKey=b},397:(e,t)=>{"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function r(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function o(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function i(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){o(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=n,t.bool=r,t.bytes=o,t.hash=i,t.exists=s,t.output=a;const c={number:n,bool:r,bytes:o,hash:i,exists:s,output:a};t.default=c},8303:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const r=n(397),o=n(6786);class i extends o.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,o.createView)(this.buffer)}update(e){r.default.exists(this);const{view:t,buffer:n,blockLen:i}=this,s=(e=(0,o.toBytes)(e)).length;for(let r=0;r<s;){const a=Math.min(i-this.pos,s-r);if(a!==i)n.set(e.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=(0,o.createView)(e);for(;i<=s-r;r+=i)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){r.default.exists(this),r.default.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,a,r)}(n,i-8,BigInt(8*this.length),s),this.process(n,0);const c=(0,o.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,h[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%t&&e.buffer.set(n),e}}t.SHA2=i},401:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.toBig=t.split=t.fromBig=void 0;const n=BigInt(2**32-1),r=BigInt(32);function o(e,t=!1){return t?{h:Number(e&n),l:Number(e>>r&n)}:{h:0|Number(e>>r&n),l:0|Number(e&n)}}function i(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:a}=o(e[i],t);[n[i],r[i]]=[s,a]}return[n,r]}function s(e,t,n,r){const o=(t>>>0)+(r>>>0);return{h:e+n+(o/2**32|0)|0,l:0|o}}t.fromBig=o,t.split=i,t.toBig=(e,t)=>BigInt(e>>>0)<<r|BigInt(t>>>0),t.add=s;const a={fromBig:o,split:i,toBig:t.toBig,shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:s,add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,o)=>t+n+r+o+(e/2**32|0)|0,add5H:(e,t,n,r,o,i)=>t+n+r+o+i+(e/2**32|0)|0,add5L:(e,t,n,r,o)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(o>>>0)};t.default=a},8632:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},2832:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const r=n(397),o=n(6786);class i extends o.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,r.default.hash(e);const n=(0,o.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return r.default.exists(this),this.iHash.update(e),this}digestInto(e){r.default.exists(this),r.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=r,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.hmac=(e,t,n)=>new i(e,t).update(n).digest(),t.hmac.create=(e,t)=>new i(e,t)},3866:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ripemd160=t.RIPEMD160=void 0;const r=n(8303),o=n(6786),i=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),s=Uint8Array.from({length:16},((e,t)=>t)),a=s.map((e=>(9*e+5)%16));let c=[s],u=[a];for(let e=0;e<4;e++)for(let t of[c,u])t.push(t[e].map((e=>i[e])));const l=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),h=c.map(((e,t)=>e.map((e=>l[t][e])))),f=u.map(((e,t)=>e.map((e=>l[t][e])))),d=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),p=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),y=(e,t)=>e<<t|e>>>32-t;function b(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const g=new Uint32Array(16);class w extends r.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:o}=this;return[e,t,n,r,o]}set(e,t,n,r,o){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)g[n]=e.getUint32(t,!0);let n=0|this.h0,r=n,o=0|this.h1,i=o,s=0|this.h2,a=s,l=0|this.h3,w=l,m=0|this.h4,v=m;for(let e=0;e<5;e++){const t=4-e,_=d[e],x=p[e],E=c[e],k=u[e],S=h[e],A=f[e];for(let t=0;t<16;t++){const r=y(n+b(e,o,s,l)+g[E[t]]+_,S[t])+m|0;n=m,m=l,l=0|y(s,10),s=o,o=r}for(let e=0;e<16;e++){const n=y(r+b(t,i,a,w)+g[k[e]]+x,A[e])+v|0;r=v,v=w,w=0|y(a,10),a=i,i=n}}this.set(this.h1+s+w|0,this.h2+l+v|0,this.h3+m+r|0,this.h4+n+i|0,this.h0+o+a|0)}roundClean(){g.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}t.RIPEMD160=w,t.ripemd160=(0,o.wrapConstructor)((()=>new w))},7695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const r=n(8303),o=n(6786),i=(e,t,n)=>e&t^e&n^t&n,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends r.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[e,t,n,r,o,i,s,a]}set(e,t,n,r,o,i,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],n=c[e-2],r=(0,o.rotr)(t,7)^(0,o.rotr)(t,18)^t>>>3,i=(0,o.rotr)(n,17)^(0,o.rotr)(n,19)^n>>>10;c[e]=i+c[e-7]+r+c[e-16]|0}let{A:n,B:r,C:a,D:u,E:l,F:h,G:f,H:d}=this;for(let e=0;e<64;e++){const t=d+((0,o.rotr)(l,6)^(0,o.rotr)(l,11)^(0,o.rotr)(l,25))+((p=l)&h^~p&f)+s[e]+c[e]|0,y=((0,o.rotr)(n,2)^(0,o.rotr)(n,13)^(0,o.rotr)(n,22))+i(n,r,a)|0;d=f,f=h,h=l,l=u+t|0,u=a,a=r,r=n,n=t+y|0}var p;n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,u=u+this.D|0,l=l+this.E|0,h=h+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(n,r,a,u,l,h,f,d)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,o.wrapConstructor)((()=>new u)),t.sha224=(0,o.wrapConstructor)((()=>new l))},2361:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha384=t.sha512_256=t.sha512_224=t.sha512=t.SHA512=void 0;const r=n(8303),o=n(401),i=n(6786),[s,a]=o.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),c=new Uint32Array(80),u=new Uint32Array(80);class l extends r.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:u,Fh:l,Fl:h,Gh:f,Gl:d,Hh:p,Hl:y}=this;return[e,t,n,r,o,i,s,a,c,u,l,h,f,d,p,y]}set(e,t,n,r,o,i,s,a,c,u,l,h,f,d,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|h,this.Gh=0|f,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t),u[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],n=0|u[e-15],r=o.default.rotrSH(t,n,1)^o.default.rotrSH(t,n,8)^o.default.shrSH(t,n,7),i=o.default.rotrSL(t,n,1)^o.default.rotrSL(t,n,8)^o.default.shrSL(t,n,7),s=0|c[e-2],a=0|u[e-2],l=o.default.rotrSH(s,a,19)^o.default.rotrBH(s,a,61)^o.default.shrSH(s,a,6),h=o.default.rotrSL(s,a,19)^o.default.rotrBL(s,a,61)^o.default.shrSL(s,a,6),f=o.default.add4L(i,h,u[e-7],u[e-16]),d=o.default.add4H(f,r,l,c[e-7],c[e-16]);c[e]=0|d,u[e]=0|f}let{Ah:n,Al:r,Bh:i,Bl:l,Ch:h,Cl:f,Dh:d,Dl:p,Eh:y,El:b,Fh:g,Fl:w,Gh:m,Gl:v,Hh:_,Hl:x}=this;for(let e=0;e<80;e++){const t=o.default.rotrSH(y,b,14)^o.default.rotrSH(y,b,18)^o.default.rotrBH(y,b,41),E=o.default.rotrSL(y,b,14)^o.default.rotrSL(y,b,18)^o.default.rotrBL(y,b,41),k=y&g^~y&m,S=b&w^~b&v,A=o.default.add5L(x,E,S,a[e],u[e]),O=o.default.add5H(A,_,t,k,s[e],c[e]),B=0|A,H=o.default.rotrSH(n,r,28)^o.default.rotrBH(n,r,34)^o.default.rotrBH(n,r,39),I=o.default.rotrSL(n,r,28)^o.default.rotrBL(n,r,34)^o.default.rotrBL(n,r,39),C=n&i^n&h^i&h,L=r&l^r&f^l&f;_=0|m,x=0|v,m=0|g,v=0|w,g=0|y,w=0|b,({h:y,l:b}=o.default.add(0|d,0|p,0|O,0|B)),d=0|h,p=0|f,h=0|i,f=0|l,i=0|n,l=0|r;const j=o.default.add3L(B,I,L);n=o.default.add3H(j,O,H,C),r=0|j}({h:n,l:r}=o.default.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l}=o.default.add(0|this.Bh,0|this.Bl,0|i,0|l)),({h,l:f}=o.default.add(0|this.Ch,0|this.Cl,0|h,0|f)),({h:d,l:p}=o.default.add(0|this.Dh,0|this.Dl,0|d,0|p)),({h:y,l:b}=o.default.add(0|this.Eh,0|this.El,0|y,0|b)),({h:g,l:w}=o.default.add(0|this.Fh,0|this.Fl,0|g,0|w)),({h:m,l:v}=o.default.add(0|this.Gh,0|this.Gl,0|m,0|v)),({h:_,l:x}=o.default.add(0|this.Hh,0|this.Hl,0|_,0|x)),this.set(n,r,i,l,h,f,d,p,y,b,g,w,m,v,_,x)}roundClean(){c.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=l;class h extends l{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class f extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class d extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}t.sha512=(0,i.wrapConstructor)((()=>new l)),t.sha512_224=(0,i.wrapConstructor)((()=>new h)),t.sha512_256=(0,i.wrapConstructor)((()=>new f)),t.sha384=(0,i.wrapConstructor)((()=>new d))},6786:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const r=n(8632);if(t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function i(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function s(e){if("string"==typeof e&&(e=i(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}t.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=o[e[n]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t},t.nextTick=async()=>{},t.asyncLoop=async function(e,n,r){let o=Date.now();for(let i=0;i<e;i++){r(i);const e=Date.now()-o;e>=0&&e<n||(await(0,t.nextTick)(),o+=e)}},t.utf8ToBytes=i,t.toBytes=s,t.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n},t.Hash=class{clone(){return this._cloneInto()}};t.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||(n=t,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new TypeError("Options should be object or undefined");var n;return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(s(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(s(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(r.crypto.web)return r.crypto.web.getRandomValues(new Uint8Array(e));if(r.crypto.node)return new Uint8Array(r.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}},7286:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mnemonicToSeedSync=t.mnemonicToSeed=t.validateMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.generateMnemonic=void 0;const r=n(819),o=n(9705),i=n(3662),s=n(1014),a=n(7443),c=n(9187),u=e=>"あいこくしん"===e[0];function l(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function h(e){const t=l(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function f(e){r.default.bytes(e,16,20,24,28,32)}t.generateMnemonic=function(e,t=128){if(r.default.number(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return b((0,a.randomBytes)(t/8),e)};const d=e=>{const t=8-e.length/4;return new Uint8Array([(0,i.sha256)(e)[0]>>t<<t])};function p(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),c.utils.chain(c.utils.checksum(1,d),c.utils.radix2(11,!0),c.utils.alphabet(e))}function y(e,t){const{words:n}=h(e),r=p(t).decode(n);return f(r),r}function b(e,t){return f(e),p(t).encode(e).join(u(t)?"　":" ")}t.mnemonicToEntropy=y,t.entropyToMnemonic=b,t.validateMnemonic=function(e,t){try{y(e,t)}catch(e){return!1}return!0};const g=e=>l(`mnemonic${e}`);t.mnemonicToSeed=function(e,t=""){return(0,o.pbkdf2Async)(s.sha512,h(e).nfkd,g(t),{c:2048,dkLen:64})},t.mnemonicToSeedSync=function(e,t=""){return(0,o.pbkdf2)(s.sha512,h(e).nfkd,g(t),{c:2048,dkLen:64})}},819:(e,t)=>{"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function r(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function o(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function i(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){o(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=n,t.bool=r,t.bytes=o,t.hash=i,t.exists=s,t.output=a;const c={number:n,bool:r,bytes:o,hash:i,exists:s,output:a};t.default=c},1464:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const r=n(819),o=n(7443);class i extends o.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,o.createView)(this.buffer)}update(e){r.default.exists(this);const{view:t,buffer:n,blockLen:i}=this,s=(e=(0,o.toBytes)(e)).length;for(let r=0;r<s;){const a=Math.min(i-this.pos,s-r);if(a!==i)n.set(e.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=(0,o.createView)(e);for(;i<=s-r;r+=i)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){r.default.exists(this),r.default.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,a,r)}(n,i-8,BigInt(8*this.length),s),this.process(n,0);const c=(0,o.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,h[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%t&&e.buffer.set(n),e}}t.SHA2=i},905:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.toBig=t.split=t.fromBig=void 0;const n=BigInt(2**32-1),r=BigInt(32);function o(e,t=!1){return t?{h:Number(e&n),l:Number(e>>r&n)}:{h:0|Number(e>>r&n),l:0|Number(e&n)}}function i(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:a}=o(e[i],t);[n[i],r[i]]=[s,a]}return[n,r]}function s(e,t,n,r){const o=(t>>>0)+(r>>>0);return{h:e+n+(o/2**32|0)|0,l:0|o}}t.fromBig=o,t.split=i,t.toBig=(e,t)=>BigInt(e>>>0)<<r|BigInt(t>>>0),t.add=s;const a={fromBig:o,split:i,toBig:t.toBig,shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:s,add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,o)=>t+n+r+o+(e/2**32|0)|0,add5H:(e,t,n,r,o,i)=>t+n+r+o+i+(e/2**32|0)|0,add5L:(e,t,n,r,o)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(o>>>0)};t.default=a},8939:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},5116:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const r=n(819),o=n(7443);class i extends o.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,r.default.hash(e);const n=(0,o.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return r.default.exists(this),this.iHash.update(e),this}digestInto(e){r.default.exists(this),r.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=r,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.hmac=(e,t,n)=>new i(e,t).update(n).digest(),t.hmac.create=(e,t)=>new i(e,t)},9705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pbkdf2Async=t.pbkdf2=void 0;const r=n(819),o=n(5116),i=n(7443);function s(e,t,n,s){r.default.hash(e);const a=(0,i.checkOpts)({dkLen:32,asyncTick:10},s),{c,dkLen:u,asyncTick:l}=a;if(r.default.number(c),r.default.number(u),r.default.number(l),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const h=(0,i.toBytes)(t),f=(0,i.toBytes)(n),d=new Uint8Array(u),p=o.hmac.create(e,h),y=p._cloneInto().update(f);return{c,dkLen:u,asyncTick:l,DK:d,PRF:p,PRFSalt:y}}function a(e,t,n,r,o){return e.destroy(),t.destroy(),r&&r.destroy(),o.fill(0),n}t.pbkdf2=function(e,t,n,r){const{c:o,dkLen:c,DK:u,PRF:l,PRFSalt:h}=s(e,t,n,r);let f;const d=new Uint8Array(4),p=(0,i.createView)(d),y=new Uint8Array(l.outputLen);for(let e=1,t=0;t<c;e++,t+=l.outputLen){const n=u.subarray(t,t+l.outputLen);p.setInt32(0,e,!1),(f=h._cloneInto(f)).update(d).digestInto(y),n.set(y.subarray(0,n.length));for(let e=1;e<o;e++){l._cloneInto(f).update(y).digestInto(y);for(let e=0;e<n.length;e++)n[e]^=y[e]}}return a(l,h,u,f,y)},t.pbkdf2Async=async function(e,t,n,r){const{c:o,dkLen:c,asyncTick:u,DK:l,PRF:h,PRFSalt:f}=s(e,t,n,r);let d;const p=new Uint8Array(4),y=(0,i.createView)(p),b=new Uint8Array(h.outputLen);for(let e=1,t=0;t<c;e++,t+=h.outputLen){const n=l.subarray(t,t+h.outputLen);y.setInt32(0,e,!1),(d=f._cloneInto(d)).update(p).digestInto(b),n.set(b.subarray(0,n.length)),await(0,i.asyncLoop)(o-1,u,(e=>{h._cloneInto(d).update(b).digestInto(b);for(let e=0;e<n.length;e++)n[e]^=b[e]}))}return a(h,f,l,d,b)}},3662:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const r=n(1464),o=n(7443),i=(e,t,n)=>e&t^e&n^t&n,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends r.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:s,H:a}=this;return[e,t,n,r,o,i,s,a]}set(e,t,n,r,o,i,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],n=c[e-2],r=(0,o.rotr)(t,7)^(0,o.rotr)(t,18)^t>>>3,i=(0,o.rotr)(n,17)^(0,o.rotr)(n,19)^n>>>10;c[e]=i+c[e-7]+r+c[e-16]|0}let{A:n,B:r,C:a,D:u,E:l,F:h,G:f,H:d}=this;for(let e=0;e<64;e++){const t=d+((0,o.rotr)(l,6)^(0,o.rotr)(l,11)^(0,o.rotr)(l,25))+((p=l)&h^~p&f)+s[e]+c[e]|0,y=((0,o.rotr)(n,2)^(0,o.rotr)(n,13)^(0,o.rotr)(n,22))+i(n,r,a)|0;d=f,f=h,h=l,l=u+t|0,u=a,a=r,r=n,n=t+y|0}var p;n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,u=u+this.D|0,l=l+this.E|0,h=h+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(n,r,a,u,l,h,f,d)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,o.wrapConstructor)((()=>new u)),t.sha224=(0,o.wrapConstructor)((()=>new l))},1014:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha384=t.sha512_256=t.sha512_224=t.sha512=t.SHA512=void 0;const r=n(1464),o=n(905),i=n(7443),[s,a]=o.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),c=new Uint32Array(80),u=new Uint32Array(80);class l extends r.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:u,Fh:l,Fl:h,Gh:f,Gl:d,Hh:p,Hl:y}=this;return[e,t,n,r,o,i,s,a,c,u,l,h,f,d,p,y]}set(e,t,n,r,o,i,s,a,c,u,l,h,f,d,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|h,this.Gh=0|f,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t),u[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],n=0|u[e-15],r=o.default.rotrSH(t,n,1)^o.default.rotrSH(t,n,8)^o.default.shrSH(t,n,7),i=o.default.rotrSL(t,n,1)^o.default.rotrSL(t,n,8)^o.default.shrSL(t,n,7),s=0|c[e-2],a=0|u[e-2],l=o.default.rotrSH(s,a,19)^o.default.rotrBH(s,a,61)^o.default.shrSH(s,a,6),h=o.default.rotrSL(s,a,19)^o.default.rotrBL(s,a,61)^o.default.shrSL(s,a,6),f=o.default.add4L(i,h,u[e-7],u[e-16]),d=o.default.add4H(f,r,l,c[e-7],c[e-16]);c[e]=0|d,u[e]=0|f}let{Ah:n,Al:r,Bh:i,Bl:l,Ch:h,Cl:f,Dh:d,Dl:p,Eh:y,El:b,Fh:g,Fl:w,Gh:m,Gl:v,Hh:_,Hl:x}=this;for(let e=0;e<80;e++){const t=o.default.rotrSH(y,b,14)^o.default.rotrSH(y,b,18)^o.default.rotrBH(y,b,41),E=o.default.rotrSL(y,b,14)^o.default.rotrSL(y,b,18)^o.default.rotrBL(y,b,41),k=y&g^~y&m,S=b&w^~b&v,A=o.default.add5L(x,E,S,a[e],u[e]),O=o.default.add5H(A,_,t,k,s[e],c[e]),B=0|A,H=o.default.rotrSH(n,r,28)^o.default.rotrBH(n,r,34)^o.default.rotrBH(n,r,39),I=o.default.rotrSL(n,r,28)^o.default.rotrBL(n,r,34)^o.default.rotrBL(n,r,39),C=n&i^n&h^i&h,L=r&l^r&f^l&f;_=0|m,x=0|v,m=0|g,v=0|w,g=0|y,w=0|b,({h:y,l:b}=o.default.add(0|d,0|p,0|O,0|B)),d=0|h,p=0|f,h=0|i,f=0|l,i=0|n,l=0|r;const j=o.default.add3L(B,I,L);n=o.default.add3H(j,O,H,C),r=0|j}({h:n,l:r}=o.default.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l}=o.default.add(0|this.Bh,0|this.Bl,0|i,0|l)),({h,l:f}=o.default.add(0|this.Ch,0|this.Cl,0|h,0|f)),({h:d,l:p}=o.default.add(0|this.Dh,0|this.Dl,0|d,0|p)),({h:y,l:b}=o.default.add(0|this.Eh,0|this.El,0|y,0|b)),({h:g,l:w}=o.default.add(0|this.Fh,0|this.Fl,0|g,0|w)),({h:m,l:v}=o.default.add(0|this.Gh,0|this.Gl,0|m,0|v)),({h:_,l:x}=o.default.add(0|this.Hh,0|this.Hl,0|_,0|x)),this.set(n,r,i,l,h,f,d,p,y,b,g,w,m,v,_,x)}roundClean(){c.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=l;class h extends l{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class f extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class d extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}t.sha512=(0,i.wrapConstructor)((()=>new l)),t.sha512_224=(0,i.wrapConstructor)((()=>new h)),t.sha512_256=(0,i.wrapConstructor)((()=>new f)),t.sha384=(0,i.wrapConstructor)((()=>new d))},7443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const r=n(8939);if(t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function i(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function s(e){if("string"==typeof e&&(e=i(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}t.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=o[e[n]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t},t.nextTick=async()=>{},t.asyncLoop=async function(e,n,r){let o=Date.now();for(let i=0;i<e;i++){r(i);const e=Date.now()-o;e>=0&&e<n||(await(0,t.nextTick)(),o+=e)}},t.utf8ToBytes=i,t.toBytes=s,t.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n},t.Hash=class{clone(){return this._cloneInto()}};t.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||(n=t,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new TypeError("Options should be object or undefined");var n;return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(s(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(s(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(r.crypto.web)return r.crypto.web.getRandomValues(new Uint8Array(e));if(r.crypto.node)return new Uint8Array(r.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}},1083:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wordlist=void 0,t.wordlist="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n")},284:e=>{var t=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},5341:(e,t,n)=>{"use strict";var r,o=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,l=(e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})},h=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))u.call(e,o)||o===n||i(e,o,{get:()=>t[o],enumerable:!(r=s(t,o))||r.enumerable});return e},f=(e,t,n)=>(n=null!=e?o(c(e)):{},h(!t&&e&&e.__esModule?n:i(n,"default",{value:e,enumerable:!0}),e)),d={};l(d,{Kind:()=>S,SimplePool:()=>F,finishEvent:()=>O,fj:()=>P,generatePrivateKey:()=>y,getBlankEvent:()=>A,getEventHash:()=>H,getPublicKey:()=>b,matchFilter:()=>j,matchFilters:()=>T,nip04:()=>$,nip05:()=>Y,nip06:()=>ne,nip19:()=>le,nip26:()=>ke,nip57:()=>He,relayInit:()=>z,serializeEvent:()=>B,signEvent:()=>L,utils:()=>m,validateEvent:()=>I,verifySignature:()=>C}),e.exports=(r=d,h(i({},"__esModule",{value:!0}),r));var p=f(n(9656));function y(){return p.utils.bytesToHex(p.utils.randomPrivateKey())}function b(e){return p.utils.bytesToHex(p.schnorr.getPublicKey(e))}var g=f(n(9656)),w=n(3061),m={};l(m,{insertEventIntoAscendingList:()=>k,insertEventIntoDescendingList:()=>E,normalizeURL:()=>x,utf8Decoder:()=>v,utf8Encoder:()=>_});var v=new TextDecoder("utf-8"),_=new TextEncoder;function x(e){let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function E(e,t){let n,r=0,o=e.length-1,i=r;if(o<0)i=0;else if(t.created_at<e[o].created_at)i=o+1;else if(t.created_at>=e[r].created_at)i=r;else for(;;){if(o<=r+1){i=o;break}if(n=Math.floor(r+(o-r)/2),e[n].created_at>t.created_at)r=n;else{if(!(e[n].created_at<t.created_at)){i=n;break}o=n}}return e[i]?.id!==t.id?[...e.slice(0,i),t,...e.slice(i)]:e}function k(e,t){let n,r=0,o=e.length-1,i=r;if(o<0)i=0;else if(t.created_at>e[o].created_at)i=o+1;else if(t.created_at<=e[r].created_at)i=r;else for(;;){if(o<=r+1){i=o;break}if(n=Math.floor(r+(o-r)/2),e[n].created_at<t.created_at)r=n;else{if(!(e[n].created_at>t.created_at)){i=n;break}o=n}}return e[i]?.id!==t.id?[...e.slice(0,i),t,...e.slice(i)]:e}var S=(e=>(e[e.Metadata=0]="Metadata",e[e.Text=1]="Text",e[e.RecommendRelay=2]="RecommendRelay",e[e.Contacts=3]="Contacts",e[e.EncryptedDirectMessage=4]="EncryptedDirectMessage",e[e.EventDeletion=5]="EventDeletion",e[e.Reaction=7]="Reaction",e[e.ChannelCreation=40]="ChannelCreation",e[e.ChannelMetadata=41]="ChannelMetadata",e[e.ChannelMessage=42]="ChannelMessage",e[e.ChannelHideMessage=43]="ChannelHideMessage",e[e.ChannelMuteUser=44]="ChannelMuteUser",e[e.Report=1984]="Report",e[e.ZapRequest=9734]="ZapRequest",e[e.Zap=9735]="Zap",e[e.RelayList=10002]="RelayList",e[e.ClientAuth=22242]="ClientAuth",e[e.Article=30023]="Article",e))(S||{});function A(){return{kind:255,content:"",tags:[],created_at:0}}function O(e,t){let n=e;return n.pubkey=b(t),n.id=H(n),n.sig=L(n,t),n}function B(e){if(!I(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function H(e){let t=(0,w.sha256)(_.encode(B(e)));return g.utils.bytesToHex(t)}function I(e){if("object"!=typeof e)return!1;if("string"!=typeof e.content)return!1;if("number"!=typeof e.created_at)return!1;if("string"!=typeof e.pubkey)return!1;if(!e.pubkey.match(/^[a-f0-9]{64}$/))return!1;if(!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let e=0;e<n.length;e++)if("object"==typeof n[e])return!1}return!0}function C(e){return g.schnorr.verifySync(e.sig,H(e),e.pubkey)}function L(e,t){return g.utils.bytesToHex(g.schnorr.signSync(H(e),t))}function j(e,t){if(e.ids&&-1===e.ids.indexOf(t.id))return!1;if(e.kinds&&-1===e.kinds.indexOf(t.kind))return!1;if(e.authors&&-1===e.authors.indexOf(t.pubkey))return!1;for(let n in e)if("#"===n[0]){let r=e[`#${n.slice(1)}`];if(r&&!t.tags.find((([e,t])=>e===n.slice(1)&&-1!==r.indexOf(t))))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>=e.until)}function T(e,t){for(let n=0;n<e.length;n++)if(j(e[n],t))return!0;return!1}var P={};function U(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,o=e.slice(r).indexOf('"')+r+1;return e.slice(o,o+64)}function M(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,o=e.slice(r),i=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,i),10)}function N(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let n=e.slice(t+7+1).indexOf('"');if(-1===n)return null;let r=t+7+1+n,o=e.slice(r+1,80).indexOf('"');if(-1===o)return null;let i=r+1+o;return e.slice(r+1,i)}function D(e,t){return t===U(e,"id")}function q(e,t){return t===U(e,"pubkey")}function R(e,t){return t===M(e,"kind")}function z(e,t={}){let{listTimeout:n=3e3,getTimeout:r=3e3}=t;var o,i={},s={connect:[],disconnect:[],error:[],notice:[]},a={},c={};function u(){return 1===o?.readyState}async function l(e){let t=JSON.stringify(e);if(u()||(await new Promise((e=>setTimeout(e,1e3))),u()))try{o.send(t)}catch(e){console.log(e)}}const h=(e,{skipVerification:t=!1,alreadyHaveEvent:n=null,id:r=Math.random().toString().slice(2)}={})=>{let o=r;return i[o]={id:o,filters:e,skipVerification:t,alreadyHaveEvent:n},l(["REQ",o,...e]),{sub:(r,i={})=>h(r||e,{skipVerification:i.skipVerification||t,alreadyHaveEvent:i.alreadyHaveEvent||n,id:o}),unsub:()=>{delete i[o],delete a[o],l(["CLOSE",o])},on:(e,t)=>{a[o]=a[o]||{event:[],eose:[]},a[o][e].push(t)},off:(e,t)=>{let n=a[o],r=n[e].indexOf(t);r>=0&&n[e].splice(r,1)}}};return{url:e,sub:h,on:(e,t)=>{s[e].push(t),"connect"===e&&1===o?.readyState&&t()},off:(e,t)=>{let n=s[e].indexOf(t);-1!==n&&s[e].splice(n,1)},list:(e,t)=>new Promise((r=>{let o=h(e,t),i=[],s=setTimeout((()=>{o.unsub(),r(i)}),n);o.on("eose",(()=>{o.unsub(),clearTimeout(s),r(i)})),o.on("event",(e=>{i.push(e)}))})),get:(e,t)=>new Promise((n=>{let o=h([e],t),i=setTimeout((()=>{o.unsub(),n(null)}),r);o.on("event",(e=>{o.unsub(),clearTimeout(i),n(e)}))})),publish(e){if(!e.id)throw new Error(`event ${e} has no id`);let t=e.id;return l(["EVENT",e]),{on:(e,n)=>{c[t]=c[t]||{ok:[],failed:[]},c[t][e].push(n)},off:(e,n)=>{let r=c[t];if(!r)return;let o=r[e].indexOf(n);o>=0&&r[e].splice(o,1)}}},connect:async function(){u()||await async function(){return new Promise(((t,n)=>{(o=new WebSocket(e)).onopen=()=>{s.connect.forEach((e=>e())),t()},o.onerror=()=>{s.error.forEach((e=>e())),n()},o.onclose=async()=>{s.disconnect.forEach((e=>e()))};let r,u=[];function l(){if(0===u.length)return clearInterval(r),void(r=null);var t=u.shift();if(!t)return;let n=N(t);if(n){let r=i[n];if(r&&r.alreadyHaveEvent&&r.alreadyHaveEvent(U(t,"id"),e))return}try{let e=JSON.parse(t);switch(e[0]){case"EVENT":let t=e[1],n=e[2];return void(I(n)&&i[t]&&(i[t].skipVerification||C(n))&&T(i[t].filters,n)&&(i[t],(a[t]?.event||[]).forEach((e=>e(n)))));case"EOSE":{let t=e[1];return void(t in a&&(a[t].eose.forEach((e=>e())),a[t].eose=[]))}case"OK":{let t=e[1],n=e[2],r=e[3]||"";return void(t in c&&(n?c[t].ok.forEach((e=>e())):c[t].failed.forEach((e=>e(r))),c[t].ok=[],c[t].failed=[]))}case"NOTICE":let r=e[1];return void s.notice.forEach((e=>e(r)))}}catch(e){return}}o.onmessage=e=>{u.push(e.data),r||(r=setInterval(l,0))}}))}()},close(){s={connect:[],disconnect:[],error:[],notice:[]},a={},c={},o?.close()},get status(){return o?.readyState??3}}}l(P,{getHex64:()=>U,getInt:()=>M,getSubscriptionId:()=>N,matchEventId:()=>D,matchEventKind:()=>R,matchEventPubkey:()=>q});var F=class{_conn;_seenOn={};eoseSubTimeout;getTimeout;constructor(e={}){this._conn={},this.eoseSubTimeout=e.eoseSubTimeout||3400,this.getTimeout=e.getTimeout||3400}close(e){e.forEach((e=>{let t=this._conn[x(e)];t&&t.close()}))}async ensureRelay(e){const t=x(e),n=this._conn[t];if(n)return n;const r=z(t,{getTimeout:.9*this.getTimeout,listTimeout:.9*this.getTimeout});return this._conn[t]=r,await r.connect(),r}sub(e,t,n){let r=new Set,o=n||{};o.alreadyHaveEvent=(e,t)=>{let n=this._seenOn[e]||new Set;return n.add(t),this._seenOn[e]=n,r.has(e)};let i=[],s=new Set,a=new Set,c=e.length,u=!1,l=setTimeout((()=>{u=!0;for(let e of a.values())e()}),this.eoseSubTimeout);e.forEach((async e=>{let n;try{n=await this.ensureRelay(e)}catch(e){return void f()}if(!n)return;let h=n.sub(t,o);function f(){if(c--,0===c){clearTimeout(l);for(let e of a.values())e()}}h.on("event",(e=>{r.add(e.id);for(let t of s.values())t(e)})),h.on("eose",(()=>{u||f()})),i.push(h)}));let h={sub:(e,t)=>(i.forEach((n=>n.sub(e,t))),h),unsub(){i.forEach((e=>e.unsub()))},on(e,t){switch(e){case"event":s.add(t);break;case"eose":a.add(t)}},off(e,t){"event"===e?s.delete(t):"eose"===e&&a.delete(t)}};return h}get(e,t,n){return new Promise((r=>{let o=this.sub(e,[t],n),i=setTimeout((()=>{o.unsub(),r(null)}),this.getTimeout);o.on("event",(e=>{r(e),clearTimeout(i),o.unsub()}))}))}list(e,t,n){return new Promise((r=>{let o=[],i=this.sub(e,t,n);i.on("event",(e=>{o.push(e)})),i.on("eose",(()=>{i.unsub(),r(o)}))}))}publish(e,t){let n=e.map((e=>{let n=this._conn[x(e)];return n?n.publish(t):function(e){return{on(t,n){"failed"===t&&n(`relay ${e} not connected`)},off(){}}}(e)}));return{on(t,r){n.forEach(((n,o)=>{n.on(t,(()=>r(e[o])))}))},off(){}}}seenOn(e){return Array.from(this._seenOn[e]?.values?.()||[])}},$={};l($,{decrypt:()=>Z,encrypt:()=>W});var K=n(8089),G=f(n(9656)),V=n(9187);async function W(e,t,n){const r=J(G.getSharedSecret(e,"02"+t));let o=Uint8Array.from((0,K.randomBytes)(16)),i=_.encode(n),s=await crypto.subtle.importKey("raw",r,{name:"AES-CBC"},!1,["encrypt"]),a=await crypto.subtle.encrypt({name:"AES-CBC",iv:o},s,i);return`${V.base64.encode(new Uint8Array(a))}?iv=${V.base64.encode(new Uint8Array(o.buffer))}`}async function Z(e,t,n){let[r,o]=n.split("?iv="),i=J(G.getSharedSecret(e,"02"+t)),s=await crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]),a=V.base64.decode(r),c=V.base64.decode(o),u=await crypto.subtle.decrypt({name:"AES-CBC",iv:c},s,a);return v.decode(u)}function J(e){return e.slice(1,33)}var X,Y={};l(Y,{queryProfile:()=>te,searchDomain:()=>ee,useFetchImplementation:()=>Q});try{X=fetch}catch{}function Q(e){X=e}async function ee(e,t=""){try{return(await(await X(`https://${e}/.well-known/nostr.json?name=${t}`)).json()).names}catch(e){return{}}}async function te(e){let[t,n]=e.split("@");if(n||(n=t,t="_"),!t.match(/^[A-Za-z0-9-_]+$/))return null;let r=await(await X(`https://${n}/.well-known/nostr.json?name=${t}`)).json();if(!r?.names?.[t])return null;let o=r.names[t];return{pubkey:o,relays:r.relays?.[o]||[]}}var ne={};l(ne,{generateSeedWords:()=>ce,privateKeyFromSeedWords:()=>ae,validateWords:()=>ue});var re=f(n(9656)),oe=n(1083),ie=n(7286),se=n(1869);function ae(e,t){let n=se.HDKey.fromMasterSeed((0,ie.mnemonicToSeedSync)(e,t)).derive("m/44'/1237'/0'/0/0").privateKey;if(!n)throw new Error("could not derive private key");return re.utils.bytesToHex(n)}function ce(){return(0,ie.generateMnemonic)(oe.wordlist)}function ue(e){return(0,ie.validateMnemonic)(e,oe.wordlist)}var le={};l(le,{decode:()=>pe,naddrEncode:()=>xe,neventEncode:()=>_e,noteEncode:()=>we,nprofileEncode:()=>ve,npubEncode:()=>ge,nsecEncode:()=>be});var he=f(n(9656)),fe=n(9187),de=5e3;function pe(e){let{prefix:t,words:n}=fe.bech32.decode(e,de),r=new Uint8Array(fe.bech32.fromWords(n));switch(t){case"nprofile":{let e=ye(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:he.utils.bytesToHex(e[0][0]),relays:e[1]?e[1].map((e=>v.decode(e))):[]}}}case"nevent":{let e=ye(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nevent",data:{id:he.utils.bytesToHex(e[0][0]),relays:e[1]?e[1].map((e=>v.decode(e))):[]}}}case"naddr":{let e=ye(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!e[2]?.[0])throw new Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(!e[3]?.[0])throw new Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:v.decode(e[0][0]),pubkey:he.utils.bytesToHex(e[2][0]),kind:parseInt(he.utils.bytesToHex(e[3][0]),16),relays:e[1]?e[1].map((e=>v.decode(e))):[]}}}case"nsec":case"npub":case"note":return{type:t,data:he.utils.bytesToHex(r)};default:throw new Error(`unknown prefix ${t}`)}}function ye(e){let t={},n=e;for(;n.length>0;){let e=n[0],r=n[1],o=n.slice(2,2+r);n=n.slice(2+r),o.length<r||(t[e]=t[e]||[],t[e].push(o))}return t}function be(e){return me("nsec",e)}function ge(e){return me("npub",e)}function we(e){return me("note",e)}function me(e,t){let n=he.utils.hexToBytes(t),r=fe.bech32.toWords(n);return fe.bech32.encode(e,r,de)}function ve(e){let t=Ee({0:[he.utils.hexToBytes(e.pubkey)],1:(e.relays||[]).map((e=>_.encode(e)))}),n=fe.bech32.toWords(t);return fe.bech32.encode("nprofile",n,de)}function _e(e){let t=Ee({0:[he.utils.hexToBytes(e.id)],1:(e.relays||[]).map((e=>_.encode(e)))}),n=fe.bech32.toWords(t);return fe.bech32.encode("nevent",n,de)}function xe(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=Ee({0:[_.encode(e.identifier)],1:(e.relays||[]).map((e=>_.encode(e))),2:[he.utils.hexToBytes(e.pubkey)],3:[new Uint8Array(t)]}),r=fe.bech32.toWords(n);return fe.bech32.encode("naddr",r,de)}function Ee(e){let t=[];return Object.entries(e).forEach((([e,n])=>{n.forEach((n=>{let r=new Uint8Array(n.length+2);r.set([parseInt(e)],0),r.set([n.length],1),r.set(n,2),t.push(r)}))})),he.utils.concatBytes(...t)}var ke={};l(ke,{createDelegation:()=>Oe,getDelegator:()=>Be});var Se=f(n(9656)),Ae=n(3061);function Oe(e,t){let n=[];(t.kind||-1)>=0&&n.push(`kind=${t.kind}`),t.until&&n.push(`created_at<${t.until}`),t.since&&n.push(`created_at>${t.since}`);let r=n.join("&");if(""===r)throw new Error("refusing to create a delegation without any conditions");let o=(0,Ae.sha256)(_.encode(`nostr:delegation:${t.pubkey}:${r}`)),i=Se.utils.bytesToHex(Se.schnorr.signSync(o,e));return{from:b(e),to:t.pubkey,cond:r,sig:i}}function Be(e){let t=e.tags.find((e=>"delegation"===e[0]&&e.length>=4));if(!t)return null;let n=t[1],r=t[2],o=t[3],i=r.split("&");for(let t=0;t<i.length;t++){let[n,r,o]=i[t].split(/\b/);if(("kind"!==n||"="!==r||e.kind!==parseInt(o))&&!("created_at"===n&&"<"===r&&e.created_at<parseInt(o)||"created_at"===n&&">"===r&&e.created_at>parseInt(o)))return null}let s=(0,Ae.sha256)(_.encode(`nostr:delegation:${e.pubkey}:${r}`));return Se.schnorr.verifySync(o,s,n)?n:null}var He={};l(He,{getZapEndpoint:()=>je,makeZapReceipt:()=>Ue,makeZapRequest:()=>Te,useFetchImplementation:()=>Le,validateZapRequest:()=>Pe});var Ie,Ce=n(9187);try{Ie=fetch}catch{}function Le(e){Ie=e}async function je(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:e}=Ce.bech32.decode(n,1e3),r=Ce.bech32.fromWords(e);t=v.decode(r)}else{if(!r)return null;{let[e,n]=r.split("@");t=`https://${n}/.well-known/lnurlp/${e}`}}let o=await Ie(t),i=await o.json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch(e){}return null}function Te({profile:e,event:t,amount:n,relays:r,comment:o=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let i={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e],["amount",n.toString()],["relays",...r]]};return t&&i.tags.push(["e",t]),i}function Pe(e){let t;try{t=JSON.parse(e)}catch(e){return"Invalid zap request JSON."}if(!I(t))return"Zap request is not a valid Nostr event.";if(!C(t))return"Invalid signature on zap request.";let n=t.tags.find((([e,t])=>"p"===e&&t));if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find((([e,t])=>"e"===e&&t));return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find((([e,t])=>"relays"===e&&t))?null:"Zap request doesn't have a 'relays' tag."}function Ue({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let o=JSON.parse(e).tags.filter((([e])=>"e"===e||"p"===e||"a"===e)),i={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...o,["bolt11",n],["description",e]]};return t&&i.tags.push(["preimage",t]),i}var Me=f(n(9656)),Ne=n(9569),De=n(3061);Me.utils.hmacSha256Sync=(e,...t)=>(0,Ne.hmac)(De.sha256,e,Me.utils.concatBytes(...t)),Me.utils.sha256Sync=(...e)=>(0,De.sha256)(Me.utils.concatBytes(...e))},8519:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(5341);n(6445),function(){const e=["wss://relay-jp.nostr.wirednet.jp","wss://nostr.h3z.jp","wss://nostr.holybea.com"],t=["wss://nostr-relay.nokotaro.com","wss://relay.nostr.wirednet.jp","wss://relay.damus.io","wss://relay.snort.social"],n=["wss://relay-jp.nostr.wirednet.jp","wss://nostr.holybea.com"],i=[9801,9821],s=50,a="object"==typeof window,c=a&&void 0!==window.api,u=new Intl.DateTimeFormat("ja-jp",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),l=(0,o.generatePrivateKey)(),h=(0,o.getPublicKey)(l);let f,d=[],p=[],y=[];if(c){window.api.ReceiveGhostInfo((t=>{y=t[0],d=t[1],p=t[2];const n=document.getElementById("sstp-target"),r=document.getElementById("bottle-ifghost"),o=n.childElementCount;for(let e=0;e<o;e++)n.remove(0),r.remove(0);for(let e=0;e<d.length;e++){const t=document.createElement("option");t.setAttribute("value",d[e]),t.appendChild(document.createTextNode(d[e])),n.appendChild(t);const o=document.createElement("option");o.setAttribute("value",d[e]+","+p[e]),o.appendChild(document.createTextNode(d[e]+","+p[e])),r.appendChild(o)}e.disabled=0==d.length})),window.api.RequestGhostInfo(),document.getElementById("refresh").addEventListener("click",(function(){window.api.RequestGhostInfo()}));const e=document.getElementById("bottle-send");e.addEventListener("click",(function(e){return r(this,void 0,void 0,(function*(){const e=document.getElementById("bottle-script");if(null==e)return;const t=e.value.replace(/\n/g,"");if(""==t)return;const r={Script:t,IfGhost:document.getElementById("bottle-ifghost").value},i={kind:Number(document.getElementById("bottle-kind").value),pubkey:"",created_at:Math.floor(Date.now()/1e3),tags:[],content:JSON.stringify(r)};let s;document.getElementById("use-nip-07").checked&&window.nostr?s=yield window.nostr.signEvent(i):(i.pubkey=h,s={kind:i.kind,pubkey:i.pubkey,created_at:i.created_at,tags:i.tags,content:i.content,id:"",sig:""},s.id=(0,o.getEventHash)(i),s.sig=(0,o.signEvent)(i,l));const a=g.publish(n,s);a.on("ok",(()=>{console.log("Send Bottle: ",r)})),a.on("failed",(e=>{console.log("Send Bottle Failed: ",e)}))}))}))}function b(e,t,n,r,o){const i=document.getElementById("sstp-target").selectedIndex,s=y[i],a="\\0"+e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n")+"\\e";n?window.api.SendSSTP([s,a,t,e.replace(/\n/g,"\\n"),n,r,o]):window.api.SendSSTP([s,e.replace(/\n/g,"\\n"),t])}a&&(document.querySelectorAll('.tabs > input[type="radio"]').forEach((t=>{t.addEventListener("change",(()=>{if(t.checked){const r=Number(document.getElementById("bottle-kind").value);"global"==t.id||"following"==t.id?(f.unsub(),f=_(e)):"bottle"==t.id&&(f.unsub(),f=x(n,r))}}))})),document.getElementById("bottle-kind").addEventListener("change",(()=>{const e=Number(document.getElementById("bottle-kind").value);f.unsub(),f=x(n,e)})),window.addEventListener("load",(()=>{const e=document.getElementById("use-nip-07"),t=document.getElementById("npub-nip-07");window.nostr&&window.nostr.getPublicKey?e.addEventListener("change",(()=>r(this,void 0,void 0,(function*(){e.checked?yield function(){var e;return r(this,void 0,void 0,(function*(){const n=yield null===(e=window.nostr)||void 0===e?void 0:e.getPublicKey();if(void 0!==n){t.value=o.nip19.npubEncode(n);const e={kinds:[0],authors:[n],limit:1},r=[];Array.from(document.getElementById("enabled-relay").options).forEach((e=>{r.push(e.value)})),Array.from(document.getElementById("following-relay").options).forEach((e=>{r.push(e.value)})),Array.from(document.getElementById("bottle-relay").options).forEach((e=>{r.push(e.value)}));const i=g.sub(r,[e]);i.on("event",(e=>{const t=JSON.parse(e.content),r=document.getElementById("bottle-profile-dt");if(r.innerHTML="",null!=t.picture){const e=document.createElement("img");e.src=t.picture,e.alt=t.name,e.width=s,e.height=s,r.appendChild(e)}r.appendChild(document.createTextNode(t.display_name));const i=document.createElement("a");i.setAttribute("href","https://iris.to/"+o.nip19.npubEncode(e.pubkey)),i.textContent="@"+t.name,r.appendChild(i);const a=document.getElementById("bottle-profile-dd");a.innerHTML="",a.appendChild(document.createTextNode(t.about)),null!=t.picture&&document.querySelectorAll("#bottle-tl > dt").forEach((e=>{if(e.dataset.npub==o.nip19.npubEncode(n)){const n=document.createElement("img");n.src=t.picture,n.alt=t.name,n.width=s,n.height=s,e.appendChild(n)}}))})),i.on("eose",(()=>{i.unsub()}))}}))}():(t.value="",document.getElementById("bottle-profile-dt").innerHTML="",document.getElementById("bottle-profile-dd").innerHTML="",document.querySelectorAll("#bottle-tl > dt > img").forEach((e=>{e.remove()})))})))):(e.disabled=!0,t.disabled=!0)})));const g=new o.SimplePool;if(f=_(e),a){!function(e,t,n,r){var o,i;const s=document.getElementById("enabled-relay");e.forEach((e=>{const t=document.createElement("option");t.setAttribute("value",e),t.appendChild(document.createTextNode(e)),null==s||s.appendChild(t)}));const a=document.getElementById("disabled-relay");t.forEach((e=>{const t=document.createElement("option");t.setAttribute("value",e),t.appendChild(document.createTextNode(e)),null==a||a.appendChild(t)}));const c=document.getElementById("bottle-relay");n.forEach((e=>{const t=document.createElement("option");t.setAttribute("value",e),t.appendChild(document.createTextNode(e)),null==c||c.appendChild(t)}));const u=document.getElementById("bottle-kind");function l(e,t){const n=document.getElementById(e);if(!(n.selectedIndex>=0))return;const r=n.options[n.selectedIndex].value,o=document.getElementById(t),i=document.createElement("option");i.setAttribute("value",r),i.appendChild(document.createTextNode(r)),o.appendChild(i),n.remove(n.selectedIndex);const s=[];Array.from(document.getElementById("enabled-relay").options).forEach((e=>{s.push(e.value)})),f.unsub(),f=_(s)}r.forEach((e=>{const t=document.createElement("option");t.setAttribute("value",e.toString()),t.appendChild(document.createTextNode(e.toString())),9801==e&&(t.selected=!0),null==u||u.appendChild(t)})),null===(o=document.getElementById("remove"))||void 0===o||o.addEventListener("click",(()=>l("enabled-relay","disabled-relay"))),null===(i=document.getElementById("add"))||void 0===i||i.addEventListener("click",(()=>l("disabled-relay","enabled-relay")))}(e,t,n,i);const a=document.getElementById("pubkey");let c;a.addEventListener("change",(()=>{const{type:e,data:t}=o.nip19.decode(a.value);let n="";if("string"!=typeof t)return;n=t;const i={kinds:[3],authors:[n],limit:1},u=[];Array.from(document.getElementById("enabled-relay").options).forEach((e=>{u.push(e.value)})),Array.from(document.getElementById("following-relay").options).forEach((e=>{u.push(e.value)}));const l=g.sub(Array.from(new Set(u)),[i]);let h=!1;l.on("event",(e=>{if(h)return;h=!0;const t=JSON.parse(e.content),i=[],a=[];e.tags.forEach((e=>{"p"==e[0]&&a.push(e[1])}));const u=document.getElementById("following-relay");Array.from(u.options).forEach((e=>{u.remove(0)})),Object.keys(t).forEach((function(e){i.push(e);const t=document.createElement("option");t.textContent=e,u.add(t)})),i.forEach((function(e){return r(this,void 0,void 0,(function*(){try{yield g.ensureRelay(e)}catch(e){console.log("ensureRelay error: ",e)}}))}));const l={kinds:[0],authors:[n],limit:1},f=g.sub(i,[l]);f.on("event",(e=>{const t=JSON.parse(e.content),n=document.getElementById("profile-dt");if(n.innerHTML="",null!=t.picture){const e=document.createElement("img");e.src=t.picture,e.alt=t.name,e.width=s,e.height=s,n.appendChild(e)}n.appendChild(document.createTextNode(t.display_name));const r=document.createElement("a");r.setAttribute("href","https://iris.to/"+o.nip19.npubEncode(e.pubkey)),r.textContent="@"+t.name,n.appendChild(r);const i=document.getElementById("profile-dd");i.innerHTML="",i.appendChild(document.createTextNode(t.about))})),f.on("eose",(()=>{f.unsub()})),a.push(n);const d={kinds:[1],authors:a,since:Math.floor(Date.now()/1e3)-1800,limit:20},p=g.sub(i,[d]);document.getElementById("following-tl").innerHTML="",p.on("event",(e=>{v("following",i,e)})),p.on("eose",(()=>{})),c.unsub(),c=p})),l.on("eose",(()=>{l.unsub()}))}))}const w={},m={};function v(e,t,n){const r={kinds:[0],authors:[n.pubkey]},i=g.sub(t,[r]);let a=!1;i.on("event",(t=>{if(!n.id)return;if(a)return;a=!0;const r=JSON.parse(t.content),i=document.createElement("dt");if(null!=r.picture){const e=document.createElement("img");e.src=r.picture,e.alt=r.name,e.width=s,e.height=s,i.appendChild(e)}i.appendChild(document.createTextNode(r.display_name));const l=document.createElement("a");l.setAttribute("href","https://iris.to/"+o.nip19.npubEncode(n.pubkey)),l.textContent="@"+r.name,i.appendChild(l);const h=document.createElement("time");h.textContent=u.format(new Date(1e3*n.created_at)),i.appendChild(h),i.setAttribute("id",e+"-"+o.nip19.noteEncode(n.id)),i.setAttribute("data-timestamp",n.created_at.toString());const f=document.createElement("dd");let d=!1,p=!1,y="";const v=[];if(n.tags.forEach((e=>{"e"==e[0]?(d=!0,y=e[1],v.push(o.nip19.noteEncode(e[1]))):"p"==e[0]&&(p=!0,v.push(o.nip19.npubEncode(e[1])))})),d&&null!=m[w[y]]?(f.appendChild(document.createTextNode("@"+m[w[y]])),f.appendChild(document.createElement("br"))):p&&null!=m[""]&&(f.appendChild(document.createTextNode("@"+m[""])),f.appendChild(document.createElement("br"))),n.content.split(/(#\[\d+\])/).forEach((e=>{const t=e.match(/#\[(\d+)\]/);if(t){const n=document.createElement("a");n.setAttribute("href","#"+o.nip19.npubEncode(v[Number(t[1])])),n.textContent=e,f.appendChild(n)}else f.appendChild(document.createTextNode(e))})),c){const e=document.createElement("button");e.textContent="Send SSTP",e.addEventListener("click",(function(e){b(n.content,"",r.name?r.name:"",r.display_name?r.display_name:"",r.picture?r.picture:"")})),i.appendChild(e)}const _=document.createElement("button");_.textContent="この人でログインする",_.addEventListener("click",(function(e){const t=document.getElementById("pubkey");t.value=o.nip19.npubEncode(n.pubkey),t.dispatchEvent(new Event("change")),document.getElementById("following").checked=!0})),i.appendChild(_);const x=document.createElement("ul");x.className="relay",g.seenOn(n.id).forEach((e=>{const t=document.createElement("li");t.textContent=e,x.appendChild(t)})),f.appendChild(x);const E=document.getElementById(e+"-tl");if(r.name in m||(m[n.pubkey]=r.name),n.id in w||(w[n.id]=n.pubkey),document.getElementById(e+"-"+o.nip19.noteEncode(n.id)))return;const k=E.querySelectorAll("dt");let S=!1,A=!1;if(k.length>0){for(let e=0;e<k.length;e++)if(Number(k[e].dataset.timestamp)<n.created_at){E.insertBefore(f,k[e]),E.insertBefore(i,f),S=!0,0==e&&(A=!0);break}S||(E.appendChild(i),E.appendChild(f),S=!0)}else A=!0,E.prepend(f),E.prepend(i);document.getElementById(e).checked&&A&&b(n.content,"",r.name?r.name:"",r.display_name?r.display_name:"",r.picture?r.picture:"")})),i.on("eose",(()=>{i.unsub()}))}function _(e){const t={kinds:[1],since:Math.floor(Date.now()/1e3)-1800,limit:20},n=g.sub(e,[t]);return a&&(document.getElementById("global-tl").innerHTML=""),n.on("event",(t=>{v("global",e,t)})),n}function x(e,t){const n={kinds:[t],since:Math.floor(Date.now()/1e3)-2592e3,limit:20},r=g.sub(e,[n]);return a&&(document.getElementById("bottle-tl").innerHTML=""),r.on("event",(e=>{!function(e,t){if(!t.id)return;const n=JSON.parse(t.content),r=n.IfGhost,i=n.Script,s=document.createElement("dt");s.appendChild(document.createTextNode(r));const a=document.createElement("time");a.textContent=u.format(new Date(1e3*t.created_at)),s.appendChild(a),s.setAttribute("id",e+"-"+o.nip19.noteEncode(t.id)),s.setAttribute("data-timestamp",t.created_at.toString()),s.setAttribute("data-npub",o.nip19.npubEncode(t.pubkey)),o.nip19.npubEncode(t.pubkey)==document.getElementById("npub-nip-07").value&&document.querySelectorAll("#bottle-profile-dt > img").forEach((e=>{s.appendChild(e.cloneNode(!1))}));const l=document.createElement("dd");if(c){const e=document.createElement("button");e.textContent="Send SSTP",e.addEventListener("click",(function(e){b(i,r)})),s.appendChild(e)}l.appendChild(document.createTextNode(i));const h=document.createElement("ul");h.className="relay",g.seenOn(t.id).forEach((e=>{const t=document.createElement("li");t.textContent=e,h.appendChild(t)})),l.appendChild(h);const f=document.getElementById(e+"-tl");if(document.getElementById(e+"-"+o.nip19.noteEncode(t.id)))return;const d=f.querySelectorAll("dt");let p=!1,y=!1;if(d.length>0){for(let e=0;e<d.length;e++)if(Number(d[e].dataset.timestamp)<t.created_at){f.insertBefore(l,d[e]),f.insertBefore(s,l),p=!0,0==e&&(y=!0);break}p||(f.appendChild(s),f.appendChild(l),p=!0)}else y=!0,f.prepend(l),f.prepend(s);document.getElementById(e).checked&&y&&b(i,r)}("bottle",e)})),r.on("eose",(()=>{})),r}}()},2278:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var o=n(7428),i=function(){function e(){}return e.prototype.empty=function(){return 0===this.size()},e.prototype.rbegin=function(){return this.end().reverse()},e.prototype.rend=function(){return this.begin().reverse()},e.prototype[Symbol.iterator]=function(){return new o.ForOfAdaptor(this.begin(),this.end())},e.prototype.toJSON=function(){var e,t,n=[];try{for(var o=r(this),i=o.next();!i.done;i=o.next()){var s=i.value;n.push(s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},e}();t.Container=i},9683:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.MapContainer=void 0;var i=n(2278),s=n(9932),a=function(e){function t(t){var n=e.call(this)||this;return n.data_=t(n),n}return o(t,e),t.prototype.assign=function(e,t){this.clear(),this.insert(e,t)},t.prototype.clear=function(){this.data_.clear()},t.prototype.begin=function(){return this.data_.begin()},t.prototype.end=function(){return this.data_.end()},t.prototype.has=function(e){return!this.find(e).equals(this.end())},t.prototype.size=function(){return this.data_.size()},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=new s.NativeArrayIterator(e,0),r=new s.NativeArrayIterator(e,e.length);return this.insert(n,r),this.size()},t.prototype.insert=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length?this.emplace(e[0].first,e[0].second):e[0].next instanceof Function&&e[1].next instanceof Function?this._Insert_by_range(e[0],e[1]):this.emplace_hint(e[0],e[1].first,e[1].second)},t.prototype.erase=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1!==e.length||e[0]instanceof this.end().constructor!=0&&e[0].source()===this?1===e.length?this._Erase_by_range(e[0]):this._Erase_by_range(e[0],e[1]):this._Erase_by_key(e[0])},t.prototype._Erase_by_range=function(e,t){void 0===t&&(t=e.next());var n=this.data_.erase(e,t);return this._Handle_erase(e,t),n},t}(i.Container);t.MapContainer=a},6639:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.SetContainer=void 0;var i=n(2278),s=n(9932),a=function(e){function t(t){var n=e.call(this)||this;return n.data_=t(n),n}return o(t,e),t.prototype.assign=function(e,t){this.clear(),this.insert(e,t)},t.prototype.clear=function(){this.data_.clear()},t.prototype.begin=function(){return this.data_.begin()},t.prototype.end=function(){return this.data_.end()},t.prototype.has=function(e){return!this.find(e).equals(this.end())},t.prototype.size=function(){return this.data_.size()},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return this.size();var n=new s.NativeArrayIterator(e,0),r=new s.NativeArrayIterator(e,e.length);return this._Insert_by_range(n,r),this.size()},t.prototype.insert=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length?this._Insert_by_key(e[0]):e[0].next instanceof Function&&e[1].next instanceof Function?this._Insert_by_range(e[0],e[1]):this._Insert_by_hint(e[0],e[1])},t.prototype.erase=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1!==e.length||e[0]instanceof this.end().constructor&&e[0].source()===this?1===e.length?this._Erase_by_range(e[0]):this._Erase_by_range(e[0],e[1]):this._Erase_by_val(e[0])},t.prototype._Erase_by_range=function(e,t){void 0===t&&(t=e.next());var n=this.data_.erase(e,t);return this._Handle_erase(e,t),n},t}(i.Container);t.SetContainer=a},1571:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.UniqueMap=void 0;var a=n(9683),c=n(1566),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.count=function(e){return this.find(e).equals(this.end())?0:1},t.prototype.get=function(e){var t=this.find(e);if(!0===t.equals(this.end()))throw c.ErrorGenerator.key_nout_found(this,"get",e);return t.second},t.prototype.take=function(e,t){var n=this.find(e);return n.equals(this.end())?this.emplace(e,t()).first.second:n.second},t.prototype.set=function(e,t){this.insert_or_assign(e,t)},t.prototype.insert=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.insert.apply(this,s([],i(t),!1))},t.prototype._Insert_by_range=function(e,t){for(var n=e;!n.equals(t);n=n.next())this.emplace(n.value.first,n.value.second)},t.prototype.insert_or_assign=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 2===e.length?this._Insert_or_assign_with_key_value(e[0],e[1]):3===e.length?this._Insert_or_assign_with_hint(e[0],e[1],e[2]):void 0},t.prototype._Insert_or_assign_with_key_value=function(e,t){var n=this.emplace(e,t);return!1===n.second&&(n.first.second=t),n},t.prototype._Insert_or_assign_with_hint=function(e,t,n){var r=this.emplace_hint(e,t,n);return r.second!==n&&(r.second=n),r},t.prototype.extract=function(e){return e instanceof this.end().constructor?this._Extract_by_iterator(e):this._Extract_by_key(e)},t.prototype._Extract_by_key=function(e){var t=this.find(e);if(!0===t.equals(this.end()))throw c.ErrorGenerator.key_nout_found(this,"extract",e);var n=t.value;return this._Erase_by_range(t),n},t.prototype._Extract_by_iterator=function(e){return!0===e.equals(this.end())?this.end():(this._Erase_by_range(e),e)},t.prototype._Erase_by_key=function(e){var t=this.find(e);return!0===t.equals(this.end())?0:(this._Erase_by_range(t),1)},t.prototype.merge=function(e){for(var t=e.begin();!t.equals(e.end());)!1===this.has(t.first)?(this.insert(t.value),t=e.erase(t)):t=t.next()},t}(a.MapContainer);t.UniqueMap=u},2570:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.UniqueSet=void 0;var a=n(6639),c=n(1566),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.count=function(e){return this.find(e).equals(this.end())?0:1},t.prototype.insert=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.insert.apply(this,s([],i(t),!1))},t.prototype._Insert_by_range=function(e,t){for(;!e.equals(t);e=e.next())this._Insert_by_key(e.value)},t.prototype.extract=function(e){return e instanceof this.end().constructor?this._Extract_by_iterator(e):this._Extract_by_val(e)},t.prototype._Extract_by_val=function(e){var t=this.find(e);if(!0===t.equals(this.end()))throw c.ErrorGenerator.key_nout_found(this,"extract",e);return this._Erase_by_range(t),e},t.prototype._Extract_by_iterator=function(e){return!0===e.equals(this.end())||!1===this.has(e.value)?this.end():(this._Erase_by_range(e),e)},t.prototype._Erase_by_val=function(e){var t=this.find(e);return!0===t.equals(this.end())?0:(this._Erase_by_range(t),1)},t.prototype.merge=function(e){for(var t=e.begin();!t.equals(e.end());)!1===this.has(t.value)?(this.insert(t.value),t=e.erase(t)):t=t.next()},t}(a.SetContainer);t.UniqueSet=u},1266:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.HashMap=void 0;var a=n(1571),c=n(4970),u=n(9753),l=n(3136),h=n(9430),f=n(5351),d=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.call(this,(function(e){return new u.MapElementList(e)}))||this;return c.IHashContainer.construct.apply(c.IHashContainer,s([o,t,function(e,t){o.buckets_=new l.MapHashBuckets(o,e,t)}],i(n),!1)),o}return o(t,e),t.prototype.clear=function(){this.buckets_.clear(),e.prototype.clear.call(this)},t.prototype.swap=function(e){var t,n;t=i([e.data_,this.data_],2),this.data_=t[0],e.data_=t[1],u.MapElementList._Swap_associative(this.data_,e.data_),l.MapHashBuckets._Swap_source(this.buckets_,e.buckets_),n=i([e.buckets_,this.buckets_],2),this.buckets_=n[0],e.buckets_=n[1]},t.prototype.find=function(e){return this.buckets_.find(e)},t.prototype.begin=function(t){return void 0===t&&(t=null),null===t?e.prototype.begin.call(this):this.buckets_.at(t)[0]},t.prototype.end=function(t){if(void 0===t&&(t=null),null===t)return e.prototype.end.call(this);var n=this.buckets_.at(t);return n[n.length-1].next()},t.prototype.rbegin=function(e){return void 0===e&&(e=null),this.end(e).reverse()},t.prototype.rend=function(e){return void 0===e&&(e=null),this.begin(e).reverse()},t.prototype.bucket_count=function(){return this.buckets_.length()},t.prototype.bucket_size=function(e){return this.buckets_.at(e).length},t.prototype.load_factor=function(){return this.buckets_.load_factor()},t.prototype.hash_function=function(){return this.buckets_.hash_function()},t.prototype.key_eq=function(){return this.buckets_.key_eq()},t.prototype.bucket=function(e){return this.hash_function()(e)%this.buckets_.length()},t.prototype.max_load_factor=function(e){return void 0===e&&(e=null),this.buckets_.max_load_factor(e)},t.prototype.reserve=function(e){this.buckets_.reserve(e)},t.prototype.rehash=function(e){this.buckets_.rehash(e)},t.prototype.emplace=function(e,t){var n=this.find(e);return!1===n.equals(this.end())?new f.Pair(n,!1):(this.data_.push(new h.Entry(e,t)),n=n.prev(),this._Handle_insert(n,n.next()),new f.Pair(n,!0))},t.prototype.emplace_hint=function(e,t,n){var r=this.find(t);return!0===r.equals(this.end())&&(r=this.data_.insert(e,new h.Entry(t,n)),this._Handle_insert(r,r.next())),r},t.prototype._Handle_insert=function(e,t){for(;!e.equals(t);e=e.next())this.buckets_.insert(e)},t.prototype._Handle_erase=function(e,t){for(;!e.equals(t);e=e.next())this.buckets_.erase(e)},t}(a.UniqueMap);t.HashMap=d,function(e){e.Iterator=u.MapElementList.Iterator,e.ReverseIterator=u.MapElementList.ReverseIterator}(d=t.HashMap||(t.HashMap={})),t.HashMap=d},5017:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.HashSet=void 0;var a=n(2570),c=n(4970),u=n(7976),l=n(6449),h=n(5351),f=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.call(this,(function(e){return new u.SetElementList(e)}))||this;return c.IHashContainer.construct.apply(c.IHashContainer,s([o,t,function(e,t){o.buckets_=new l.SetHashBuckets(o,e,t)}],i(n),!1)),o}return o(t,e),t.prototype.clear=function(){this.buckets_.clear(),e.prototype.clear.call(this)},t.prototype.swap=function(e){var t,n;t=i([e.data_,this.data_],2),this.data_=t[0],e.data_=t[1],u.SetElementList._Swap_associative(this.data_,e.data_),l.SetHashBuckets._Swap_source(this.buckets_,e.buckets_),n=i([e.buckets_,this.buckets_],2),this.buckets_=n[0],e.buckets_=n[1]},t.prototype.find=function(e){return this.buckets_.find(e)},t.prototype.begin=function(t){return void 0===t&&(t=null),null===t?e.prototype.begin.call(this):this.buckets_.at(t)[0]},t.prototype.end=function(t){if(void 0===t&&(t=null),null===t)return e.prototype.end.call(this);var n=this.buckets_.at(t);return n[n.length-1].next()},t.prototype.rbegin=function(e){return void 0===e&&(e=null),this.end(e).reverse()},t.prototype.rend=function(e){return void 0===e&&(e=null),this.begin(e).reverse()},t.prototype.bucket_count=function(){return this.buckets_.length()},t.prototype.bucket_size=function(e){return this.buckets_.at(e).length},t.prototype.load_factor=function(){return this.buckets_.load_factor()},t.prototype.hash_function=function(){return this.buckets_.hash_function()},t.prototype.key_eq=function(){return this.buckets_.key_eq()},t.prototype.bucket=function(e){return this.hash_function()(e)%this.buckets_.length()},t.prototype.max_load_factor=function(e){return void 0===e&&(e=null),this.buckets_.max_load_factor(e)},t.prototype.reserve=function(e){this.buckets_.reserve(e)},t.prototype.rehash=function(e){this.buckets_.rehash(e)},t.prototype._Insert_by_key=function(e){var t=this.find(e);return!1===t.equals(this.end())?new h.Pair(t,!1):(this.data_.push(e),t=t.prev(),this._Handle_insert(t,t.next()),new h.Pair(t,!0))},t.prototype._Insert_by_hint=function(e,t){var n=this.find(t);return!0===n.equals(this.end())&&(n=this.data_.insert(e,t),this._Handle_insert(n,n.next())),n},t.prototype._Handle_insert=function(e,t){for(;!e.equals(t);e=e.next())this.buckets_.insert(e)},t.prototype._Handle_erase=function(e,t){for(;!e.equals(t);e=e.next())this.buckets_.erase(e)},t}(a.UniqueSet);t.HashSet=f,function(e){e.Iterator=u.SetElementList.Iterator,e.ReverseIterator=u.SetElementList.ReverseIterator}(f=t.HashSet||(t.HashSet={})),t.HashSet=f},269:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Exception=void 0;var o=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this,o=n.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o,r}return r(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this.constructor.name},enumerable:!1,configurable:!0}),t.prototype.what=function(){return this.message},t.prototype.toJSON=function(){return{name:this.name,message:this.message,stack:this.stack}},t}(Error);t.Exception=o},9014:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidArgument=void 0;var i=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t}(n(5501).LogicError);t.InvalidArgument=i},5501:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.LogicError=void 0;var i=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t}(n(269).Exception);t.LogicError=i},7632:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.OutOfRange=void 0;var i=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t}(n(5501).LogicError);t.OutOfRange=i},8925:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.greater_equal=t.greater=t.less_equal=t.less=t.not_equal_to=t.equal_to=void 0;var r=n(4682);function o(e,t){return e=e?e.valueOf():e,t=t?t.valueOf():t,e instanceof Object&&e.equals instanceof Function?e.equals(t):e===t}function i(e,t){return e=e.valueOf(),t=t.valueOf(),e instanceof Object?e.less instanceof Function?e.less(t):(0,r.get_uid)(e)<(0,r.get_uid)(t):e<t}function s(e,t){return i(e,t)||o(e,t)}t.equal_to=o,t.not_equal_to=function(e,t){return!o(e,t)},t.less=i,t.less_equal=s,t.greater=function(e,t){return!s(e,t)},t.greater_equal=function(e,t){return!i(e,t)}},9029:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.hash=void 0;var o=n(4682);function i(e,t){return(t^=e?1:0)*u}function s(e,t){return a(e.toString(),t)}function a(e,t){for(var n=0;n<e.length;++n)t^=e.charCodeAt(n),t*=u;return Math.abs(t)}t.hash=function(){for(var e,t,n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];var h=c;try{for(var f=r(n),d=f.next();!d.done;d=f.next()){var p=d.value,y=typeof(p=p?p.valueOf():p);if("boolean"===y)h=i(p,h);else if("number"===y||"bigint"===y)h=s(p,h);else if("string"===y)h=a(p,h);else if(p instanceof Object&&p.hashCode instanceof Function){var b=p.hashCode();if(1===n.length)return b;h^=b,h*=u}else h=s((0,o.get_uid)(p),h)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}return Math.abs(h)};var c=2166136261,u=16777619},4682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get_uid=void 0;var r=n(4931);t.get_uid=function(e){if(e instanceof Object){if(!1===e.hasOwnProperty("__get_m_iUID")){var t=++(0,r._Get_root)().__s_iUID;Object.defineProperty(e,"__get_m_iUID",{value:function(){return t}})}return e.__get_m_iUID()}return void 0===e?-1:0}},4931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._Get_root=void 0;var r=n(4922);t._Get_root=function(){return null===o&&void 0===(o=(0,r.is_node)()?n.g:self).__s_iUID&&(o.__s_iUID=0),o};var o=null},2644:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.IAssociativeContainer=void 0,(t.IAssociativeContainer||(t.IAssociativeContainer={})).construct=function(e){for(var t,o,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return i.length>=1&&i[0]instanceof Array?(t=function(){var t=i[0];e.push.apply(e,r([],n(t),!1))},o=i.slice(1)):i.length>=2&&i[0].next instanceof Function&&i[1].next instanceof Function?(t=function(){var t=i[0],n=i[1];e.assign(t,n)},o=i.slice(2)):(t=null,o=i),{ramda:t,tail:o}}},4970:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.IHashContainer=void 0;var i=n(2644),s=n(9029),a=n(8925);(t.IHashContainer||(t.IHashContainer={})).construct=function(e,t,n){for(var c=[],u=3;u<arguments.length;u++)c[u-3]=arguments[u];var l=null,h=s.hash,f=a.equal_to;if(1===c.length&&c[0]instanceof t){var d=c[0];h=d.hash_function(),f=d.key_eq(),l=function(){var t=d.begin(),n=d.end();e.assign(t,n)}}else{var p=i.IAssociativeContainer.construct.apply(i.IAssociativeContainer,o([e],r(c),!1));l=p.ramda,p.tail.length>=1&&(h=p.tail[0]),p.tail.length>=2&&(f=p.tail[1])}n(h,f),null!==l&&l()}},9753:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.MapElementList=void 0;var s=n(7647),a=n(2918),c=n(5709),u=function(e){function t(t){var n=e.call(this)||this;return n.associative_=t,n}return o(t,e),t.prototype._Create_iterator=function(e,n,r){return t.Iterator.create(this,e,n,r)},t._Swap_associative=function(e,t){var n;n=i([t.associative_,e.associative_],2),e.associative_=n[0],t.associative_=n[1]},t.prototype.associative=function(){return this.associative_},t}(s.ListContainer);t.MapElementList=u,function(e){var t=function(e){function t(t,n,r,o){var i=e.call(this,n,r,o)||this;return i.list_=t,i}return o(t,e),t.create=function(e,n,r,o){return new t(e,n,r,o)},t.prototype.reverse=function(){return new n(this)},t.prototype.source=function(){return this.list_.associative()},Object.defineProperty(t.prototype,"first",{get:function(){return this.value.first},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"second",{get:function(){return this.value.second},set:function(e){this.value.second=e},enumerable:!1,configurable:!0}),t}(a.ListIterator);e.Iterator=t;var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._Create_neighbor=function(e){return new t(e)},Object.defineProperty(t.prototype,"first",{get:function(){return this.base_.first},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"second",{get:function(){return this.base_.second},set:function(e){this.base_.second=e},enumerable:!1,configurable:!0}),t}(c.ReverseIterator);e.ReverseIterator=n}(u=t.MapElementList||(t.MapElementList={})),t.MapElementList=u},7976:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.SetElementList=void 0;var s=n(7647),a=n(2918),c=n(5709),u=function(e){function t(t){var n=e.call(this)||this;return n.associative_=t,n}return o(t,e),t.prototype._Create_iterator=function(e,n,r){return t.Iterator.create(this,e,n,r)},t._Swap_associative=function(e,t){var n;n=i([t.associative_,e.associative_],2),e.associative_=n[0],t.associative_=n[1]},t.prototype.associative=function(){return this.associative_},t}(s.ListContainer);t.SetElementList=u,function(e){var t=function(e){function t(t,n,r,o){var i=e.call(this,n,r,o)||this;return i.source_=t,i}return o(t,e),t.create=function(e,n,r,o){return new t(e,n,r,o)},t.prototype.reverse=function(){return new n(this)},t.prototype.source=function(){return this.source_.associative()},t}(a.ListIterator);e.Iterator=t;var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype._Create_neighbor=function(e){return new t(e)},t}(c.ReverseIterator);e.ReverseIterator=n}(u=t.SetElementList||(t.SetElementList={})),t.SetElementList=u},7647:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.ListContainer=void 0;var s=n(2278),a=n(2918),c=n(7489),u=n(9932),l=n(6937),h=n(1566),f=function(e){function t(){var t=e.call(this)||this;return t.end_=t._Create_iterator(null,null),t.clear(),t}return o(t,e),t.prototype.assign=function(e,t){this.clear(),this.insert(this.end(),e,t)},t.prototype.clear=function(){a.ListIterator._Set_prev(this.end_,this.end_),a.ListIterator._Set_next(this.end_,this.end_),this.begin_=this.end_,this.size_=0},t.prototype.resize=function(e){var t=e-this.size();t>0?this.insert(this.end(),t,void 0):t<0&&this.erase((0,l.advance)(this.end(),-t),this.end())},t.prototype.begin=function(){return this.begin_},t.prototype.end=function(){return this.end_},t.prototype.size=function(){return this.size_},t.prototype.push_front=function(e){this.insert(this.begin_,e)},t.prototype.push_back=function(e){this.insert(this.end_,e)},t.prototype.pop_front=function(){if(!0===this.empty())throw h.ErrorGenerator.empty(this.end_.source().constructor.name,"pop_front");this.erase(this.begin_)},t.prototype.pop_back=function(){if(!0===this.empty())throw h.ErrorGenerator.empty(this.end_.source().constructor.name,"pop_back");this.erase(this.end_.prev())},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return this.size();var n=new u.NativeArrayIterator(e,0),r=new u.NativeArrayIterator(e,e.length);return this._Insert_by_range(this.end(),n,r),this.size()},t.prototype.insert=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e.source()!==this.end_.source())throw h.ErrorGenerator.not_my_iterator(this.end_.source(),"insert");if(!0===e.erased_)throw h.ErrorGenerator.erased_iterator(this.end_.source(),"insert");return 1===t.length?this._Insert_by_repeating_val(e,1,t[0]):2===t.length&&"number"==typeof t[0]?this._Insert_by_repeating_val(e,t[0],t[1]):this._Insert_by_range(e,t[0],t[1])},t.prototype._Insert_by_repeating_val=function(e,t,n){var r=new c.Repeater(0,n),o=new c.Repeater(t);return this._Insert_by_range(e,r,o)},t.prototype._Insert_by_range=function(e,t,n){for(var r=e.prev(),o=null,i=0,s=t;!1===s.equals(n);s=s.next()){var c=this._Create_iterator(r,null,s.value);0===i&&(o=c),a.ListIterator._Set_next(r,c),r=c,++i}return!0===e.equals(this.begin())&&(this.begin_=o),a.ListIterator._Set_next(r,e),a.ListIterator._Set_prev(e,r),this.size_+=i,o},t.prototype.erase=function(e,t){return void 0===t&&(t=e.next()),this._Erase_by_range(e,t)},t.prototype._Erase_by_range=function(e,t){if(e.source()!==this.end_.source())throw h.ErrorGenerator.not_my_iterator(this.end_.source(),"insert");if(!0===e.erased_)throw h.ErrorGenerator.erased_iterator(this.end_.source(),"insert");if(e.equals(this.end_))return this.end_;var n=e.prev();a.ListIterator._Set_next(n,t),a.ListIterator._Set_prev(t,n);for(var r=e;!r.equals(t);r=r.next())r.erased_=!0,--this.size_;return e.equals(this.begin_)&&(this.begin_=t),t},t.prototype.swap=function(e){var t,n,r;t=i([e.begin_,this.begin_],2),this.begin_=t[0],e.begin_=t[1],n=i([e.end_,this.end_],2),this.end_=n[0],e.end_=n[1],r=i([e.size_,this.size_],2),this.size_=r[0],e.size_=r[1]},t}(s.Container);t.ListContainer=f},1566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorGenerator=void 0;var r=n(9014),o=n(7632);!function(e){function t(e){if("string"==typeof e)return e;var t=e.constructor.name;return e.constructor.__MODULE&&(t="".concat(e.constructor.__MODULE,".").concat(t)),"std.".concat(t)}e.get_class_name=t,e.empty=function(e,n){return new o.OutOfRange("Error on ".concat(t(e),".").concat(n,"(): it's empty container."))},e.negative_index=function(e,n,r){return new o.OutOfRange("Error on ".concat(t(e),".").concat(n,"(): parametric index is negative -> (index = ").concat(r,")."))},e.excessive_index=function(e,n,r,i){return new o.OutOfRange("Error on ".concat(t(e),".").concat(n,"(): parametric index is equal or greater than size -> (index = ").concat(r,", size: ").concat(i,")."))},e.not_my_iterator=function(e,n){return new r.InvalidArgument("Error on ".concat(t(e),".").concat(n,"(): parametric iterator is not this container's own."))},e.erased_iterator=function(e,n){return new r.InvalidArgument("Error on ".concat(t(e),".").concat(n,"(): parametric iterator, it already has been erased."))},e.negative_iterator=function(e,n,r){return new o.OutOfRange("Error on ".concat(t(e),".").concat(n,"(): parametric iterator is directing negative position -> (index = ").concat(r,")."))},e.iterator_end_value=function(e,n){void 0===n&&(n="end");var r=t(e);return new o.OutOfRange("Error on ".concat(r,".Iterator.value: cannot access to the ").concat(r,".").concat(n,"().value."))},e.key_nout_found=function(e,n,r){throw new o.OutOfRange("Error on ".concat(t(e),".").concat(n,"(): unable to find the matched key -> ").concat(r))}}(t.ErrorGenerator||(t.ErrorGenerator={}))},1663:function(e,t){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.HashBuckets=void 0;var r=function(){function e(e,t){this.fetcher_=e,this.hasher_=t,this.max_load_factor_=i,this.data_=[],this.size_=0,this.initialize()}return e.prototype.clear=function(){this.data_=[],this.size_=0,this.initialize()},e.prototype.rehash=function(e){var t,r,i,s;e=Math.max(e,o);for(var a=[],c=0;c<e;++c)a.push([]);try{for(var u=n(this.data_),l=u.next();!l.done;l=u.next()){var h=l.value;try{for(var f=(i=void 0,n(h)),d=f.next();!d.done;d=f.next()){var p=d.value;a[this.hasher_(this.fetcher_(p))%a.length].push(p)}}catch(e){i={error:e}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}this.data_=a},e.prototype.reserve=function(e){e>this.capacity()&&(e=Math.floor(e/this.max_load_factor_),this.rehash(e))},e.prototype.initialize=function(){for(var e=0;e<o;++e)this.data_.push([])},e.prototype.length=function(){return this.data_.length},e.prototype.capacity=function(){return this.data_.length*this.max_load_factor_},e.prototype.at=function(e){return this.data_[e]},e.prototype.load_factor=function(){return this.size_/this.length()},e.prototype.max_load_factor=function(e){if(void 0===e&&(e=null),null===e)return this.max_load_factor_;this.max_load_factor_=e},e.prototype.hash_function=function(){return this.hasher_},e.prototype.index=function(e){return this.hasher_(this.fetcher_(e))%this.length()},e.prototype.insert=function(e){var t=this.capacity();++this.size_>t&&this.reserve(2*t);var n=this.index(e);this.data_[n].push(e)},e.prototype.erase=function(e){for(var t=this.index(e),n=this.data_[t],r=0;r<n.length;++r)if(n[r]===e){n.splice(r,1),--this.size_;break}},e}();t.HashBuckets=r;var o=10,i=1},3136:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.MapHashBuckets=void 0;var a=function(e){function t(t,n,r){var o=e.call(this,c,n)||this;return o.source_=t,o.key_eq_=r,o}return o(t,e),t._Swap_source=function(e,t){var n;n=i([t.source_,e.source_],2),e.source_=n[0],t.source_=n[1]},t.prototype.key_eq=function(){return this.key_eq_},t.prototype.find=function(e){var t,n,r=this.hash_function()(e)%this.length(),o=this.at(r);try{for(var i=s(o),a=i.next();!a.done;a=i.next()){var c=a.value;if(this.key_eq_(c.first,e))return c}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this.source_.end()},t}(n(1663).HashBuckets);function c(e){return e.first}t.MapHashBuckets=a},6449:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.SetHashBuckets=void 0;var a=function(e){function t(t,n,r){var o=e.call(this,c,n)||this;return o.source_=t,o.key_eq_=r,o}return o(t,e),t._Swap_source=function(e,t){var n;n=i([t.source_,e.source_],2),e.source_=n[0],t.source_=n[1]},t.prototype.key_eq=function(){return this.key_eq_},t.prototype.find=function(e){var t,n,r=this.hash_function()(e)%this.length(),o=this.at(r);try{for(var i=s(o),a=i.next();!a.done;a=i.next()){var c=a.value;if(this.key_eq_(c.value,e))return c}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this.source_.end()},t}(n(1663).HashBuckets);function c(e){return e.value}t.SetHashBuckets=a},2918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListIterator=void 0;var r=n(1566),o=function(){function e(e,t,n){this.prev_=e,this.next_=t,this.value_=n}return e._Set_prev=function(e,t){e.prev_=t},e._Set_next=function(e,t){e.next_=t},e.prototype.prev=function(){return this.prev_},e.prototype.next=function(){return this.next_},Object.defineProperty(e.prototype,"value",{get:function(){return this._Try_value(),this.value_},enumerable:!1,configurable:!0}),e.prototype._Try_value=function(){if(void 0===this.value_&&!0===this.equals(this.source().end()))throw r.ErrorGenerator.iterator_end_value(this.source())},e.prototype.equals=function(e){return this===e},e}();t.ListIterator=o},5709:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReverseIterator=void 0;var n=function(){function e(e){this.base_=e.prev()}return e.prototype.source=function(){return this.base_.source()},e.prototype.base=function(){return this.base_.next()},Object.defineProperty(e.prototype,"value",{get:function(){return this.base_.value},enumerable:!1,configurable:!0}),e.prototype.prev=function(){return this._Create_neighbor(this.base().next())},e.prototype.next=function(){return this._Create_neighbor(this.base_)},e.prototype.equals=function(e){return this.base_.equals(e.base_)},e}();t.ReverseIterator=n},7428:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ForOfAdaptor=void 0;var n=function(){function e(e,t){this.it_=e,this.last_=t}return e.prototype.next=function(){if(this.it_.equals(this.last_))return{done:!0,value:void 0};var e=this.it_;return this.it_=this.it_.next(),{done:!1,value:e.value}},e.prototype[Symbol.iterator]=function(){return this},e}();t.ForOfAdaptor=n},9932:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(t,"__esModule",{value:!0}),t.NativeArrayIterator=void 0;var r=function(){function e(e,t){this.data_=e,this.index_=t}return e.prototype.index=function(){return this.index_},Object.defineProperty(e.prototype,"value",{get:function(){return this.data_[this.index_]},enumerable:!1,configurable:!0}),e.prototype.prev=function(){return--this.index_,this},e.prototype.next=function(){return++this.index_,this},e.prototype.advance=function(e){return this.index_+=e,this},e.prototype.equals=function(e){return this.data_===e.data_&&this.index_===e.index_},e.prototype.swap=function(e){var t,r;t=n([e.data_,this.data_],2),this.data_=t[0],e.data_=t[1],r=n([e.index_,this.index_],2),this.index_=r[0],e.index_=r[1]},e}();t.NativeArrayIterator=r},7489:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Repeater=void 0;var n=function(){function e(e,t){this.index_=e,this.value_=t}return e.prototype.index=function(){return this.index_},Object.defineProperty(e.prototype,"value",{get:function(){return this.value_},enumerable:!1,configurable:!0}),e.prototype.next=function(){return++this.index_,this},e.prototype.equals=function(e){return this.index_===e.index_},e}();t.Repeater=n},6937:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.next=t.prev=t.advance=t.distance=t.size=t.empty=void 0;var r=n(9014);function o(e,t){if(0===t)return e;if(e.advance instanceof Function)return e.advance(t);var n;if(t<0){if(!(e.prev instanceof Function))throw new r.InvalidArgument("Error on std.advance(): parametric iterator is not a bi-directional iterator, thus advancing to negative direction is not possible.");n=function(e){return e.prev()},t=-t}else n=function(e){return e.next()};for(;t-- >0;)e=n(e);return e}t.empty=function(e){return e instanceof Array?0!==e.length:e.empty()},t.size=function(e){return e instanceof Array?e.length:e.size()},t.distance=function(e,t){if(e.index instanceof Function)return function(e,t){var n=e.index(),r=t.index();return e.base instanceof Function?n-r:r-n}(e,t);for(var n=0;!e.equals(t);e=e.next())++n;return n},t.advance=o,t.prev=function(e,t){return void 0===t&&(t=1),1===t?e.prev():o(e,-t)},t.next=function(e,t){return void 0===t&&(t=1),1===t?e.next():o(e,t)}},9430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Entry=void 0;var r=n(9029),o=n(8925),i=function(){function e(e,t){this.first=e,this.second=t}return e.prototype.equals=function(e){return(0,o.equal_to)(this.first,e.first)},e.prototype.less=function(e){return(0,o.less)(this.first,e.first)},e.prototype.hashCode=function(){return(0,r.hash)(this.first)},e}();t.Entry=i},5351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make_pair=t.Pair=void 0;var r=n(9029),o=n(8925),i=function(){function e(e,t){this.first=e,this.second=t}return e.prototype.equals=function(e){return(0,o.equal_to)(this.first,e.first)&&(0,o.equal_to)(this.second,e.second)},e.prototype.less=function(e){return!1===(0,o.equal_to)(this.first,e.first)?(0,o.less)(this.first,e.first):(0,o.less)(this.second,e.second)},e.prototype.hashCode=function(){return(0,r.hash)(this.first,this.second)},e}();t.Pair=i,t.make_pair=function(e,t){return new i(e,t)}},4922:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.is_node=void 0;var r=null;t.is_node=function(){return null===r&&(r="object"==typeof n.g&&"object"==typeof n.g.process&&"object"==typeof n.g.process.versions&&void 0!==n.g.process.versions.node),r}},5995:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(5840),a=n(1112),c=n(9653),u=n(4164),l=n(4584),h=n(5025),f=function(e){function t(n,r){var o=e.call(this)||this;return o.on_={},o.state_=t.CONNECTING,o.client_=new s.client,o.client_.on("connect",o._Handle_connect.bind(o)),o.client_.on("connectFailed",o._Handle_error.bind(o)),"string"==typeof r&&(r=[r]),o.client_.connect(n,r),o}return o(t,e),t.prototype.close=function(e,n){this.state_=t.CLOSING,void 0===e?this.connection_.sendCloseFrame():this.connection_.sendCloseFrame(e,n,!0)},t.prototype.send=function(e){if("string"==typeof e.valueOf())this.connection_.sendUTF(e);else{var t;t=e instanceof Buffer?e:e instanceof Blob?new Buffer(e,"blob"):e.buffer?new Buffer(e.buffer):new Buffer(e),this.connection_.sendBytes(t)}},Object.defineProperty(t.prototype,"url",{get:function(){return this.client_.url.href},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"protocol",{get:function(){return this.client_.protocols?this.client_.protocols[0]:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensions",{get:function(){return this.connection_&&this.connection_.extensions?this.connection_.extensions[0].name:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readyState",{get:function(){return this.state_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferedAmount",{get:function(){return this.connection_.bytesWaitingToFlush},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binaryType",{get:function(){return"arraybuffer"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onopen",{get:function(){return this.on_.open},set:function(e){this._Set_on("open",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onclose",{get:function(){return this.on_.close},set:function(e){this._Set_on("close",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onmessage",{get:function(){return this.on_.message},set:function(e){this._Set_on("message",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onerror",{get:function(){return this.on_.error},set:function(e){this._Set_on("error",e)},enumerable:!0,configurable:!0}),t.prototype._Set_on=function(e,t){this.on_[e]&&this.removeEventListener(e,this.on_[e]),this.addEventListener(e,t),this.on_[e]=t},t.prototype._Handle_connect=function(e){this.connection_=e,this.state_=t.OPEN,this.connection_.on("message",this._Handle_message.bind(this)),this.connection_.on("error",this._Handle_error.bind(this)),this.connection_.on("close",this._Handle_close.bind(this));var n=new c.Event("open",d);this.dispatchEvent(n)},t.prototype._Handle_close=function(e,n){var r=new u.CloseEvent("close",i({},d,{code:e,reason:n}));this.state_=t.CLOSED,this.dispatchEvent(r)},t.prototype._Handle_message=function(e){var t=new l.MessageEvent("message",i({},d,{data:e.binaryData?e.binaryData:e.utf8Data}));this.dispatchEvent(t)},t.prototype._Handle_error=function(e){var n=new h.ErrorEvent("error",i({},d,{error:e,message:e.message}));this.state_===t.CONNECTING&&(this.state_=t.CLOSED),this.dispatchEvent(n)},t}(a.EventTarget);t.WebSocket=f,function(e){e.CONNECTING=0,e.OPEN=1,e.CLOSING=2,e.CLOSED=3}(f=t.WebSocket||(t.WebSocket={})),t.WebSocket=f;var d={bubbles:!1,cancelable:!1}},4164:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t}(n(9653).Event);t.CloseEvent=i},5025:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t}(n(9653).Event);t.ErrorEvent=i},9653:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Event=function(e,t){this.type=e,t&&Object.assign(this,t)}},1112:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(5017),i=n(1266),s=function(){function e(){this.listeners_=new i.HashMap,this.created_at_=new Date}return e.prototype.dispatchEvent=function(e){var t,n,o=this.listeners_.find(e.type);if(!o.equals(this.listeners_.end())){e.target=this,e.timeStamp=(new Date).getTime()-this.created_at_.getTime();try{for(var i=r(o.second),s=i.next();!s.done;s=i.next())(0,s.value)(e)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.addEventListener=function(e,t){var n=this.listeners_.find(e);n.equals(this.listeners_.end())&&(n=this.listeners_.emplace(e,new o.HashSet).first),n.second.insert(t)},e.prototype.removeEventListener=function(e,t){var n=this.listeners_.find(e);n.equals(this.listeners_.end())||(n.second.erase(t),n.second.empty()&&this.listeners_.erase(n))},e}();t.EventTarget=s},4584:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t}(n(9653).Event);t.MessageEvent=i},6445:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(4922).is_node()&&(n.g.WebSocket=n(5995).WebSocket)},5840:(e,t,n)=>{var r;if("object"==typeof globalThis)r=globalThis;else try{r=n(284)}catch(e){}finally{if(r||"undefined"==typeof window||(r=window),!r)throw new Error("Could not determine global this")}var o=r.WebSocket||r.MozWebSocket,i=n(9387);function s(e,t){return t?new o(e,t):new o(e)}o&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(s,e,{get:function(){return o[e]}})})),e.exports={w3cwebsocket:o?s:null,version:i}},9387:(e,t,n)=>{e.exports=n(9794).version},9159:()=>{},9794:e=>{"use strict";e.exports={version:"1.0.34"}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n(8519)})();